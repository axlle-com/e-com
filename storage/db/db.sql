-- MySQL Script generated by MySQL Workbench
-- Mon Jun 13 18:08:33 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS = @@UNIQUE_CHECKS, UNIQUE_CHECKS = 0;
SET @OLD_FOREIGN_KEY_CHECKS = @@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS = 0;
SET @OLD_SQL_MODE = @@SQL_MODE, SQL_MODE =
    'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema a_shop
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema a_shop
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `a_shop` DEFAULT CHARACTER SET utf8;
USE `a_shop`;

-- -----------------------------------------------------
-- Table `a_shop`.`ax_user`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_user`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_user`
(
    `id`                   BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `first_name`           VARCHAR(255)        NOT NULL DEFAULT 'Undefined',
    `last_name`            VARCHAR(255)        NOT NULL DEFAULT 'Undefined',
    `patronymic`           VARCHAR(255)        NULL     DEFAULT NULL,
    `phone`                VARCHAR(255)        NULL,
    `email`                VARCHAR(255)        NULL,
    `is_email`             TINYINT(1) UNSIGNED NULL     DEFAULT 0,
    `is_phone`             TINYINT(1) UNSIGNED NULL     DEFAULT 0,
    `status`               SMALLINT(6)         NOT NULL DEFAULT 0,
    `password_hash`        VARCHAR(255)        NOT NULL,
    `remember_token`       VARCHAR(500)        NULL     DEFAULT NULL,
    `auth_key`             VARCHAR(32)         NULL     DEFAULT NULL,
    `password_reset_token` VARCHAR(255)        NULL     DEFAULT NULL,
    `created_at`           INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `updated_at`           INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `deleted_at`           INT(11) UNSIGNED    NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `email` (`email` ASC),
    UNIQUE INDEX `password_reset_token` (`password_reset_token` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `phone_UNIQUE` (`phone` ASC)
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_render`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_render`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_render`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`      VARCHAR(255)        NOT NULL,
    `name`       VARCHAR(45)         NOT NULL,
    `resource`   VARCHAR(255)        NULL,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_post_category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_post_category`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_post_category`
(
    `id`                  BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `category_id`         BIGINT(20) UNSIGNED NULL,
    `render_id`           BIGINT(20) UNSIGNED NULL,
    `is_published`        TINYINT(1) UNSIGNED NULL DEFAULT 1,
    `is_favourites`       TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `is_watermark`        TINYINT(1)          NULL DEFAULT 1,
    `image`               VARCHAR(255)        NULL DEFAULT NULL,
    `show_image`          TINYINT(1)          NULL DEFAULT 1,
    `url`                 VARCHAR(500)        NOT NULL,
    `alias`               VARCHAR(255)        NOT NULL,
    `title`               VARCHAR(255)        NOT NULL,
    `title_short`         VARCHAR(150)        NULL DEFAULT NULL,
    `description`         TEXT                NULL DEFAULT NULL,
    `preview_description` TEXT                NULL,
    `sort`                TINYINT(3) UNSIGNED NULL DEFAULT 0,
    `created_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    INDEX `fk_ax_post_category_ax_render1_idx` (`render_id` ASC),
    UNIQUE INDEX `url_UNIQUE` (`url` ASC),
    INDEX `fk_ax_post_category_ax_post_category1_idx` (`category_id` ASC),
    CONSTRAINT `fk_ax_post_category_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `a_shop`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_post_category_ax_post_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `a_shop`.`ax_post_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_post`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_post`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_post`
(
    `id`                  BIGINT(20) UNSIGNED  NOT NULL AUTO_INCREMENT,
    `render_id`           BIGINT(20) UNSIGNED  NULL,
    `category_id`         BIGINT(20) UNSIGNED  NULL,
    `is_published`        TINYINT(1) UNSIGNED  NULL DEFAULT 1,
    `is_favourites`       TINYINT(1) UNSIGNED  NULL DEFAULT 0,
    `is_comments`         TINYINT(1) UNSIGNED  NULL DEFAULT 0,
    `is_image_post`       TINYINT(1) UNSIGNED  NULL DEFAULT 1,
    `is_image_category`   TINYINT(1) UNSIGNED  NULL DEFAULT 1,
    `is_watermark`        TINYINT(1) UNSIGNED  NULL DEFAULT 1,
    `media`               VARCHAR(255)         NULL DEFAULT NULL,
    `url`                 VARCHAR(500)         NOT NULL,
    `alias`               VARCHAR(255)         NOT NULL,
    `title`               VARCHAR(255)         NOT NULL,
    `title_short`         VARCHAR(155)         NULL DEFAULT NULL,
    `preview_description` TEXT                 NULL DEFAULT NULL,
    `description`         TEXT                 NULL DEFAULT NULL,
    `show_date`           TINYINT(1)           NULL DEFAULT 1,
    `date_pub`            INT(11)              NULL DEFAULT 0,
    `date_end`            INT(11)              NULL DEFAULT 0,
    `control_date_pub`    TINYINT(1)           NULL DEFAULT 0,
    `control_date_end`    TINYINT(1)           NULL DEFAULT 0,
    `image`               VARCHAR(255)         NULL DEFAULT NULL,
    `hits`                INT(11) UNSIGNED     NULL DEFAULT 0,
    `sort`                INT(11)              NULL DEFAULT 0,
    `stars`               FLOAT(1, 1) UNSIGNED NULL DEFAULT '0.0',
    `created_at`          INT(11) UNSIGNED     NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    INDEX `fk_ax_post_ax_render1_idx` (`render_id` ASC),
    INDEX `fk_ax_post_ax_post_category1_idx` (`category_id` ASC),
    UNIQUE INDEX `url_UNIQUE` (`url` ASC),
    CONSTRAINT `fk_ax_post_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `a_shop`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_post_ax_post_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `a_shop`.`ax_post_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_comments`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_comments`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_comments`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    `person`      VARCHAR(255)        NOT NULL,
    `person_id`   BIGINT(20)          NOT NULL,
    `comments_id` BIGINT(20) UNSIGNED NULL,
    `status`      TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `is_viewed`   TINYINT(1)          NULL DEFAULT 0,
    `text`        TEXT                NOT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `resource`, `resource_id`, `person_id`, `person`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_post_comments_ax_post_comments1_idx` (`comments_id` ASC),
    CONSTRAINT `fk_ax_post_comments_ax_post_comments1`
        FOREIGN KEY (`comments_id`)
            REFERENCES `a_shop`.`ax_comments` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL,
    `render_id`   BIGINT(20) UNSIGNED NULL,
    `name`        VARCHAR(255)        NOT NULL,
    `title`       VARCHAR(255)        NOT NULL,
    `description` VARCHAR(255)        NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC),
    INDEX `fk_ax_widgets_ax_render1_idx` (`render_id` ASC),
    CONSTRAINT `fk_ax_widgets_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `a_shop`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_tags`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_tags`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_tags`
(
    `id`              BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `is_sitemap`      TINYINT(1)          NULL DEFAULT 1,
    `is_published`    TINYINT(1) UNSIGNED NULL DEFAULT 1,
    `is_favourites`   TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `is_watermark`    TINYINT(1)          NULL DEFAULT 1,
    `image`           VARCHAR(255)        NULL DEFAULT NULL,
    `show_image`      TINYINT(1)          NULL DEFAULT 1,
    `alias`           VARCHAR(255)        NOT NULL,
    `title`           VARCHAR(255)        NOT NULL,
    `title_short`     VARCHAR(150)        NULL DEFAULT NULL,
    `description`     TEXT                NULL DEFAULT NULL,
    `title_seo`       VARCHAR(255)        NULL DEFAULT NULL,
    `description_seo` VARCHAR(255)        NULL DEFAULT NULL,
    `sort`            TINYINT(3) UNSIGNED NULL DEFAULT 0,
    `created_at`      INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`      INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`      INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC)
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_gallery`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_gallery`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_gallery`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255)        NULL,
    `description` TEXT                NULL,
    `sort`        INT(11)             NULL DEFAULT 0,
    `image`       VARCHAR(500)        NULL,
    `url`         VARCHAR(255)        NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_gallery_image`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_gallery_image`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_gallery_image`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `gallery_id`  BIGINT(20) UNSIGNED NOT NULL,
    `image`       VARCHAR(255)        NOT NULL,
    `title`       VARCHAR(255)        NULL,
    `description` TEXT                NULL,
    `sort`        INT(11)             NULL DEFAULT 0,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `gallery_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `href_UNIQUE` (`image` ASC),
    INDEX `fk_ax_gallery_image_ax_gallery1_idx` (`gallery_id` ASC),
    CONSTRAINT `fk_ax_gallery_image_ax_gallery1`
        FOREIGN KEY (`gallery_id`)
            REFERENCES `a_shop`.`ax_gallery` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_tags_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_tags_has_resource`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_tags_has_resource`
(
    `tags_id`     BIGINT(20) UNSIGNED NOT NULL,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`tags_id`, `resource`, `resource_id`),
    INDEX `fk_ax_post_has_ax_post_tags_ax_post_tags1_idx` (`tags_id` ASC),
    CONSTRAINT `fk_ax_post_has_ax_post_tags_ax_post_tags1`
        FOREIGN KEY (`tags_id`)
            REFERENCES `a_shop`.`ax_tags` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_menu`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_menu`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_menu`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255)        NOT NULL,
    `name`        VARCHAR(45)         NOT NULL,
    `description` VARCHAR(255)        NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_menu_item`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_menu_item`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_menu_item`
(
    `id`           BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `menu_id`      BIGINT(20) UNSIGNED NOT NULL,
    `menu_item_id` BIGINT(20) UNSIGNED NULL,
    `resource`     VARCHAR(255)        NULL,
    `resource_id`  BIGINT(20) UNSIGNED NULL,
    `title`        VARCHAR(255)        NOT NULL,
    `sort`         INT(11)             NULL DEFAULT 0,
    `url`          VARCHAR(255)        NOT NULL,
    `created_at`   INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`   INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`   INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `menu_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_menu_item_ax_menu1_idx` (`menu_id` ASC),
    INDEX `fk_ax_menu_item_ax_menu_item1_idx` (`menu_item_id` ASC),
    CONSTRAINT `fk_ax_menu_item_ax_menu1`
        FOREIGN KEY (`menu_id`)
            REFERENCES `a_shop`.`ax_menu` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_menu_item_ax_menu_item1`
        FOREIGN KEY (`menu_item_id`)
            REFERENCES `a_shop`.`ax_menu_item` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_settings`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_settings`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_settings`
(
    `id`                   BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `currency_update_rate` INT(11)             NULL,
    `script`               LONGTEXT            NULL,
    `css`                  LONGTEXT            NULL,
    `robots`               TEXT                NULL,
    `google_verification`  VARCHAR(255)        NULL,
    `yandex_verification`  VARCHAR(255)        NULL,
    `yandex_metrika`       TEXT                NULL,
    `google_analytics`     TEXT                NULL,
    `logo_general`         VARCHAR(255)        NULL,
    `logo_second`          VARCHAR(255)        NULL,
    `company_name`         VARCHAR(255)        NULL,
    `company_name_full`    VARCHAR(500)        NULL,
    `company_phone`        VARCHAR(255)        NULL,
    `company_email`        VARCHAR(500)        NULL,
    `company_address`      VARCHAR(500)        NULL,
    `redirect_on`          TINYINT(1) UNSIGNED NULL DEFAULT 1,
    `created_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_user_guest`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_user_guest`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_user_guest`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `email`      VARCHAR(255)        NOT NULL,
    `name`       VARCHAR(255)        NULL,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `email_UNIQUE` (`email` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_letters`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_letters`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_letters`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    `person`      VARCHAR(255)        NOT NULL,
    `person_id`   BIGINT(20)          NOT NULL,
    `subject`     VARCHAR(255)        NULL,
    `text`        TEXT                NULL,
    `is_viewed`   TINYINT(1)          NULL DEFAULT 0,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `resource`, `resource_id`, `person`, `person_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_ips`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_ips`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_ips`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `ip`         VARCHAR(255)        NOT NULL,
    `status`     TINYINT(1)          NULL DEFAULT 1,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `ip_UNIQUE` (`ip` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_ips_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_ips_has_resource`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_ips_has_resource`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `ips_id`      BIGINT(20) UNSIGNED NOT NULL,
    `user_id`     BIGINT(20) UNSIGNED NULL     DEFAULT NULL,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    `event`       VARCHAR(255)        NOT NULL DEFAULT 'created',
    `body`        JSON                NULL     DEFAULT NULL,
    `description` TEXT                NULL     DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    INDEX `fk_ax_ips_has_ax_visitors_ax_ips1_idx` (`ips_id` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`),
    INDEX `fk_ax_main_ips_has_resource_ax_user1_idx` (`user_id` ASC),
    CONSTRAINT `fk_ax_ips_has_ax_visitors_ax_ips1`
        FOREIGN KEY (`ips_id`)
            REFERENCES `a_shop`.`ax_main_ips` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_main_ips_has_resource_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `a_shop`.`ax_user` (`id`)
            ON DELETE NO ACTION
            ON UPDATE NO ACTION
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_has_resource`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_has_resource`
(
    `widgets_id`  BIGINT(20) UNSIGNED NOT NULL,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`widgets_id`, `resource`, `resource_id`),
    INDEX `fk_ax_post_has_ax_widgets_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_post_has_ax_widgets_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `a_shop`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_redirect`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_redirect`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_redirect`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `url`        VARCHAR(500)        NOT NULL,
    `url_old`    VARCHAR(500)        NOT NULL,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_menu_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_menu_has_resource`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_menu_has_resource`
(
    `menu_id`     BIGINT(20) UNSIGNED NOT NULL,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`menu_id`, `resource`, `resource_id`),
    INDEX `fk_ax_menu_has_ax_post_category_ax_menu1_idx` (`menu_id` ASC),
    CONSTRAINT `fk_ax_menu_has_ax_post_category_ax_menu10`
        FOREIGN KEY (`menu_id`)
            REFERENCES `a_shop`.`ax_menu` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_user_token`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_user_token`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_user_token`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`    BIGINT(20) UNSIGNED NOT NULL,
    `type`       VARCHAR(45)         NOT NULL,
    `token`      VARCHAR(800)        NOT NULL,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `expired_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_table1_ax_user1_idx` (`user_id` ASC),
    UNIQUE INDEX `value_UNIQUE` (`token` ASC),
    CONSTRAINT `fk_table1_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `a_shop`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_gallery_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_gallery_has_resource`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_gallery_has_resource`
(
    `gallery_id`  BIGINT(20) UNSIGNED NOT NULL,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`gallery_id`, `resource`, `resource_id`),
    INDEX `fk_ax_gallery_has_resource_ax_gallery1_idx` (`gallery_id` ASC),
    CONSTRAINT `fk_ax_gallery_has_resource_ax_gallery1`
        FOREIGN KEY (`gallery_id`)
            REFERENCES `a_shop`.`ax_gallery` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_phone`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_phone`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_phone`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `number`     VARCHAR(45)         NOT NULL,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `number_UNIQUE` (`number` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_phone_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_phone_has_resource`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_phone_has_resource`
(
    `phone_id`    BIGINT(20) UNSIGNED NOT NULL,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`phone_id`, `resource`, `resource_id`),
    INDEX `fk_ax_phone_has_resource_ax_phone1_idx` (`phone_id` ASC),
    CONSTRAINT `fk_ax_phone_has_resource_ax_phone1`
        FOREIGN KEY (`phone_id`)
            REFERENCES `a_shop`.`ax_phone` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_migrations`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_migrations`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_migrations`
(
    `id`        BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `migration` VARCHAR(255)        NOT NULL,
    `batch`     INT(11)             NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_category`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_category`
(
    `id`                  BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `category_id`         BIGINT(20) UNSIGNED NULL,
    `render_id`           BIGINT(20) UNSIGNED NULL,
    `is_published`        TINYINT(1) UNSIGNED NULL DEFAULT 1,
    `is_favourites`       TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `is_watermark`        TINYINT(1)          NULL DEFAULT 1,
    `image`               VARCHAR(255)        NULL DEFAULT NULL,
    `show_image`          TINYINT(1)          NULL DEFAULT 1,
    `url`                 VARCHAR(500)        NOT NULL,
    `alias`               VARCHAR(255)        NOT NULL,
    `title`               VARCHAR(255)        NOT NULL,
    `title_short`         VARCHAR(150)        NULL DEFAULT NULL,
    `description`         TEXT                NULL DEFAULT NULL,
    `preview_description` TEXT                NULL,
    `sort`                INT(11) UNSIGNED    NULL DEFAULT 0,
    `created_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_category_ax_catalog_category1_idx` (`category_id` ASC),
    UNIQUE INDEX `url_UNIQUE` (`url` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    INDEX `fk_ax_catalog_category_ax_render1_idx` (`render_id` ASC),
    CONSTRAINT `fk_ax_catalog_category_ax_catalog_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `a_shop`.`ax_catalog_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_category_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `a_shop`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product`
(
    `id`                  BIGINT(20) UNSIGNED     NOT NULL AUTO_INCREMENT,
    `category_id`         BIGINT(20) UNSIGNED     NULL,
    `render_id`           BIGINT(20) UNSIGNED     NULL,
    `is_published`        TINYINT(1) UNSIGNED     NOT NULL DEFAULT 0,
    `is_favourites`       TINYINT(1) UNSIGNED     NULL     DEFAULT 0,
    `is_comments`         TINYINT(1) UNSIGNED     NULL     DEFAULT 0,
    `is_watermark`        TINYINT(1) UNSIGNED     NULL     DEFAULT 1,
    `is_single`           TINYINT(1) UNSIGNED     NULL     DEFAULT 0,
    `media`               VARCHAR(255)            NULL     DEFAULT NULL,
    `url`                 VARCHAR(500)            NOT NULL,
    `alias`               VARCHAR(255)            NOT NULL,
    `title`               VARCHAR(255)            NOT NULL,
    `price`               DECIMAL(10, 2)          NULL     DEFAULT 0.0,
    `title_short`         VARCHAR(155)            NULL     DEFAULT NULL,
    `preview_description` TEXT                    NULL     DEFAULT NULL,
    `description`         TEXT                    NULL     DEFAULT NULL,
    `show_date`           TINYINT(1)              NULL     DEFAULT 1,
    `image`               VARCHAR(255)            NULL     DEFAULT NULL,
    `hits`                INT(11) UNSIGNED        NULL     DEFAULT 0,
    `sort`                INT(11)                 NULL     DEFAULT 0,
    `stars`               DECIMAL(10, 2) UNSIGNED NULL     DEFAULT 0.0,
    `created_at`          INT(11) UNSIGNED        NULL     DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED        NULL     DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED        NULL     DEFAULT NULL,
    UNIQUE INDEX `url_UNIQUE` (`url` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_ax_render1_idx` (`render_id` ASC),
    INDEX `fk_ax_catalog_product_ax_catalog_category1_idx` (`category_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `a_shop`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_ax_catalog_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `a_shop`.`ax_catalog_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_property_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_property_type`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_property_type`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)        NOT NULL COMMENT 'Таблица в которой лежит value',
    `title`       VARCHAR(255)        NOT NULL,
    `description` VARCHAR(255)        NULL,
    `sort`        INT(11)             NULL,
    `image`       VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_property`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_property`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_property_type_id` BIGINT(20) UNSIGNED NOT NULL,
    `title`                    VARCHAR(255)        NOT NULL,
    `description`              VARCHAR(255)        NULL,
    `sort`                     INT(11)             NULL,
    `image`                    VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`, `catalog_property_type_id`),
    INDEX `fk_ax_catalog_property_ax_catalog_property_type1_idx` (`catalog_property_type_id` ASC),
    CONSTRAINT `fk_ax_catalog_property_ax_catalog_property_type1`
        FOREIGN KEY (`catalog_property_type_id`)
            REFERENCES `a_shop`.`ax_catalog_property_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_currency`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_currency`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_currency`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `global_id`  VARCHAR(50)         NOT NULL,
    `num_code`   INT                 NOT NULL,
    `char_code`  VARCHAR(45)         NOT NULL,
    `title`      VARCHAR(500)        NOT NULL,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `global_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `num_code_UNIQUE` (`num_code` ASC),
    UNIQUE INDEX `char_code_UNIQUE` (`char_code` ASC),
    UNIQUE INDEX `global_id_UNIQUE` (`global_id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_payment_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_payment_type`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_payment_type`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `is_active`   TINYINT(1)          NOT NULL DEFAULT 0,
    `title`       VARCHAR(255)        NOT NULL,
    `alias`       VARCHAR(255)        NOT NULL,
    `description` TEXT                NULL     DEFAULT NULL,
    `image`       VARCHAR(255)        NULL     DEFAULT NULL,
    `sort`        TINYINT(3) UNSIGNED NULL     DEFAULT 100,
    `created_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_delivery_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_delivery_type`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_delivery_type`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `is_active`   TINYINT(1)          NOT NULL DEFAULT 0,
    `title`       VARCHAR(255)        NOT NULL,
    `alias`       VARCHAR(255)        NOT NULL,
    `description` TEXT                NULL     DEFAULT NULL,
    `image`       VARCHAR(255)        NULL     DEFAULT NULL,
    `sort`        TINYINT(3) UNSIGNED NULL     DEFAULT 100,
    `created_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_fin_transaction_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_fin_transaction_type`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_fin_transaction_type`
(
    `id`         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `name`       VARCHAR(45)         NOT NULL,
    `title`      VARCHAR(500)        NOT NULL,
    `created_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at` INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_document_subject`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_document_subject`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_document_subject`
(
    `id`                      BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `fin_transaction_type_id` BIGINT(20) UNSIGNED NOT NULL,
    `name`                    VARCHAR(45)         NOT NULL,
    `title`                   VARCHAR(500)        NOT NULL,
    `created_at`              INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`              INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`              INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `fin_transaction_type_id`),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC),
    INDEX `fk_ax_catalog_document_subject_ax_fin_transaction_type1_idx` (`fin_transaction_type_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_subject_ax_fin_transaction_type1`
        FOREIGN KEY (`fin_transaction_type_id`)
            REFERENCES `a_shop`.`ax_fin_transaction_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_storage_place`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_storage_place`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_storage_place`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` BIGINT(20) UNSIGNED NULL,
    `is_place`                 TINYINT(1)          NOT NULL DEFAULT 0,
    `title`                    VARCHAR(500)        NOT NULL,
    `created_at`               INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_storage_place_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    CONSTRAINT `fk_ax_catalog_storage_place_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `a_shop`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_document`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_document`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_document`
(
    `id`                              BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id`        BIGINT(20) UNSIGNED NOT NULL,
    `catalog_document_subject_id`     BIGINT(20) UNSIGNED NOT NULL,
    `catalog_document_id`             BIGINT(20) UNSIGNED NULL DEFAULT NULL,
    `catalog_storage_place_id_target` BIGINT(20) UNSIGNED NULL DEFAULT NULL,
    `currency_id`                     BIGINT(20) UNSIGNED NULL,
    `status`                          TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `created_at`                      INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`                      INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`                      INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_storage_place_id`, `catalog_document_subject_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_document_subject1_idx` (`catalog_document_subject_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_document1_idx` (`catalog_document_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place2_idx` (`catalog_storage_place_id_target` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `a_shop`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_document_subject1`
        FOREIGN KEY (`catalog_document_subject_id`)
            REFERENCES `a_shop`.`ax_catalog_document_subject` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_document1`
        FOREIGN KEY (`catalog_document_id`)
            REFERENCES `a_shop`.`ax_catalog_document` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `a_shop`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place2`
        FOREIGN KEY (`catalog_storage_place_id_target`)
            REFERENCES `a_shop`.`ax_catalog_storage_place` (`id`)
            ON DELETE NO ACTION
            ON UPDATE NO ACTION
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_coupon`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_coupon`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_coupon`
(
    `id`          BIGINT(20) UNSIGNED  NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)         NULL,
    `resource_id` BIGINT(20) UNSIGNED  NULL,
    `value`       VARCHAR(255)         NOT NULL,
    `discount`    SMALLINT(3) UNSIGNED NOT NULL DEFAULT 10,
    `status`      SMALLINT(2) UNSIGNED NULL     DEFAULT 0,
    `image`       VARCHAR(255)         NULL     DEFAULT NULL,
    `expired_at`  INT(11) UNSIGNED     NULL     DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED     NULL     DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED     NULL     DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED     NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `value_UNIQUE` (`value` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_order`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_order`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_order`
(
    `id`                          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `uuid`                        VARCHAR(100)        NOT NULL,
    `user_id`                     BIGINT(20) UNSIGNED NOT NULL,
    `catalog_payment_type_id`     BIGINT(20) UNSIGNED NOT NULL,
    `catalog_delivery_type_id`    BIGINT(20) UNSIGNED NOT NULL,
    `catalog_sale_document_id`    BIGINT(20) UNSIGNED NULL DEFAULT NULL,
    `catalog_reserve_document_id` BIGINT(20) UNSIGNED NULL DEFAULT NULL,
    `catalog_coupon_id`           BIGINT(20) UNSIGNED NULL DEFAULT NULL,
    `payment_order_id`            VARCHAR(100)        NULL DEFAULT NULL,
    `status`                      TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `created_at`                  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`                  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`                  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `uuid`, `user_id`, `catalog_payment_type_id`, `catalog_delivery_type_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_payment_type1_idx` (`catalog_payment_type_id` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_delivery_type1_idx` (`catalog_delivery_type_id` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_document1_idx` (`catalog_sale_document_id` ASC),
    INDEX `fk_ax_catalog_order_ax_user1_idx` (`user_id` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_document2_idx` (`catalog_reserve_document_id` ASC),
    UNIQUE INDEX `uuid_UNIQUE` (`uuid` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_coupon1_idx` (`catalog_coupon_id` ASC),
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_payment_type1`
        FOREIGN KEY (`catalog_payment_type_id`)
            REFERENCES `a_shop`.`ax_catalog_payment_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_delivery_type1`
        FOREIGN KEY (`catalog_delivery_type_id`)
            REFERENCES `a_shop`.`ax_catalog_delivery_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_document1`
        FOREIGN KEY (`catalog_sale_document_id`)
            REFERENCES `a_shop`.`ax_catalog_document` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `a_shop`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_document2`
        FOREIGN KEY (`catalog_reserve_document_id`)
            REFERENCES `a_shop`.`ax_catalog_document` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_coupon1`
        FOREIGN KEY (`catalog_coupon_id`)
            REFERENCES `a_shop`.`ax_catalog_coupon` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_basket`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_basket`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_basket`
(
    `id`                 BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`            BIGINT(20) UNSIGNED NOT NULL,
    `catalog_product_id` BIGINT(20) UNSIGNED NOT NULL,
    `catalog_order_id`   BIGINT(20) UNSIGNED NULL,
    `currency_id`        BIGINT(20) UNSIGNED NULL,
    `quantity`           INT(11)             NULL,
    `status`             TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `created_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`, `catalog_product_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_basket_ax_user1_idx` (`user_id` ASC),
    INDEX `fk_ax_catalog_basket_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_basket_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_basket_ax_catalog_order1_idx` (`catalog_order_id` ASC),
    CONSTRAINT `fk_ax_catalog_basket_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `a_shop`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_basket_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `a_shop`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_basket_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_basket_ax_catalog_order1`
        FOREIGN KEY (`catalog_order_id`)
            REFERENCES `a_shop`.`ax_catalog_order` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_currency_exchange_rate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_currency_exchange_rate`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_currency_exchange_rate`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `currency_id` BIGINT(20) UNSIGNED NOT NULL,
    `value`       DECIMAL             NOT NULL,
    `date_rate`   INT(11) UNSIGNED    NOT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `currency_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_currency_exchange_rate_ax_currency1_idx` (`currency_id` ASC),
    CONSTRAINT `fk_ax_currency_exchange_rate_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `a_shop`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product_has_currency`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product_has_currency`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product_has_currency`
(
    `catalog_product_id` BIGINT(20) UNSIGNED     NOT NULL,
    `currency_id`        BIGINT(20) UNSIGNED     NOT NULL,
    `amount`             DECIMAL(10, 2) UNSIGNED NOT NULL DEFAULT 0.0,
    `date_rate`          INT(11) UNSIGNED        NOT NULL,
    PRIMARY KEY (`catalog_product_id`, `currency_id`),
    INDEX `fk_ax_catalog_product_has_ax_currency_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_product_has_ax_currency_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_ax_currency_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_ax_currency_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `a_shop`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_storage`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_storage`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_storage`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` BIGINT(20) UNSIGNED NOT NULL,
    `catalog_product_id`       BIGINT(20) UNSIGNED NOT NULL,
    `in_stock`                 INT UNSIGNED        NOT NULL DEFAULT 0,
    `in_reserve`               INT UNSIGNED        NULL     DEFAULT 0,
    `reserve_expired_at`       INT(11) UNSIGNED    NULL,
    `price_in`                 DECIMAL UNSIGNED    NULL     DEFAULT 0.0,
    `price_out`                DECIMAL UNSIGNED    NULL     DEFAULT 0.0,
    `created_at`               INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL     DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL     DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_storage_place_id`, `catalog_product_id`),
    INDEX `fk_ax_catalog_storage_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    CONSTRAINT `fk_ax_catalog_storage_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `a_shop`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_storage_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_document_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_document_content`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_document_content`
(
    `id`                  BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_document_id` BIGINT(20) UNSIGNED NOT NULL,
    `catalog_product_id`  BIGINT(20) UNSIGNED NOT NULL,
    `catalog_storage_id`  BIGINT(20) UNSIGNED NULL,
    `price_in`            DECIMAL UNSIGNED    NULL DEFAULT 0.0,
    `price_out`           DECIMAL UNSIGNED    NULL DEFAULT 0.0,
    `quantity`            INT(11) UNSIGNED    NULL DEFAULT 1,
    `description`         VARCHAR(255)        NULL,
    `created_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_document_id`, `catalog_product_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_document1_idx` (`catalog_document_id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_document1`
        FOREIGN KEY (`catalog_document_id`)
            REFERENCES `a_shop`.`ax_catalog_document` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_content_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage1`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `a_shop`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_wallet_currency`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_wallet_currency`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_wallet_currency`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `currency_id` BIGINT(20) UNSIGNED NOT NULL,
    `name`        VARCHAR(50)         NOT NULL,
    `title`       VARCHAR(45)         NOT NULL,
    `is_national` TINYINT(1) UNSIGNED NOT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `currency_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_wallet_currency_ax_currency1_idx` (`currency_id` ASC),
    CONSTRAINT `fk_ax_wallet_currency_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `a_shop`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_wallet`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_wallet`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_wallet`
(
    `id`                 BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`            BIGINT(20) UNSIGNED NOT NULL,
    `wallet_currency_id` BIGINT(20) UNSIGNED NOT NULL,
    `balance`            FLOAT UNSIGNED      NULL DEFAULT 0.0,
    `created_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`, `wallet_currency_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_wallet_ax_user1_idx` (`user_id` ASC),
    INDEX `fk_ax_wallet_ax_wallet_currency1_idx` (`wallet_currency_id` ASC),
    CONSTRAINT `fk_ax_wallet_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `a_shop`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_wallet_ax_wallet_currency1`
        FOREIGN KEY (`wallet_currency_id`)
            REFERENCES `a_shop`.`ax_wallet_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_wallet_transaction_subject`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_wallet_transaction_subject`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_wallet_transaction_subject`
(
    `id`                      BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `fin_transaction_type_id` BIGINT(20) UNSIGNED NOT NULL,
    `name`                    VARCHAR(45)         NOT NULL,
    `title`                   VARCHAR(500)        NOT NULL,
    `created_at`              INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`              INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`              INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `fin_transaction_type_id`),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC),
    INDEX `fk_ax_wallet_transaction_subject_ax_fin_transaction_type1_idx` (`fin_transaction_type_id` ASC),
    CONSTRAINT `fk_ax_wallet_transaction_subject_ax_fin_transaction_type1`
        FOREIGN KEY (`fin_transaction_type_id`)
            REFERENCES `a_shop`.`ax_fin_transaction_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_wallet_transaction`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_wallet_transaction`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_wallet_transaction`
(
    `id`                            BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `wallet_id`                     BIGINT(20) UNSIGNED NOT NULL,
    `wallet_currency_id`            BIGINT(20) UNSIGNED NOT NULL,
    `wallet_transaction_subject_id` BIGINT(20) UNSIGNED NOT NULL,
    `type`                          VARCHAR(45)         NOT NULL,
    `value`                         DECIMAL             NULL DEFAULT 0.0,
    `resource`                      VARCHAR(255)        NULL,
    `resource_id`                   BIGINT(20) UNSIGNED NULL,
    `created_at`                    INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`                    INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`                    INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `wallet_id`, `wallet_currency_id`, `wallet_transaction_subject_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_wallet_transaction_ax_wallet1_idx` (`wallet_id` ASC),
    INDEX `fk_ax_wallet_transaction_ax_wallet_currency1_idx` (`wallet_currency_id` ASC),
    INDEX `fk_ax_wallet_transaction_ax_wallet_transaction_subject1_idx` (`wallet_transaction_subject_id` ASC),
    CONSTRAINT `fk_ax_wallet_transaction_ax_wallet1`
        FOREIGN KEY (`wallet_id`)
            REFERENCES `a_shop`.`ax_wallet` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_wallet_transaction_ax_wallet_currency1`
        FOREIGN KEY (`wallet_currency_id`)
            REFERENCES `a_shop`.`ax_wallet_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_wallet_transaction_ax_wallet_transaction_subject1`
        FOREIGN KEY (`wallet_transaction_subject_id`)
            REFERENCES `a_shop`.`ax_wallet_transaction_subject` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product_widgets`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product_widgets`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product_widgets`
(
    `id`                 BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id` BIGINT(20) UNSIGNED NOT NULL,
    `render_id`          BIGINT(20) UNSIGNED NULL,
    `name`               VARCHAR(255)        NOT NULL,
    `title`              VARCHAR(255)        NOT NULL,
    `description`        VARCHAR(255)        NULL,
    `created_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`         INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_product_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_widgets_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_widgets_ax_render1_idx` (`render_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_widgets_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_widgets_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `a_shop`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product_widgets_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product_widgets_content`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product_widgets_content`
(
    `id`                         BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_widgets_id` BIGINT(20) UNSIGNED NOT NULL,
    `title`                      VARCHAR(255)        NOT NULL,
    `title_short`                VARCHAR(155)        NOT NULL,
    `description`                TEXT                NULL DEFAULT NULL,
    `image`                      VARCHAR(255)        NULL DEFAULT NULL,
    `sort`                       INT(11)             NULL DEFAULT 0,
    `show_image`                 TINYINT(1)          NULL DEFAULT 1,
    `media`                      VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`                 INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`                 INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`                 INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_product_widgets_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC),
    INDEX `fk_ax_catalog_product_widgets_content_ax_catalog_product_wi_idx` (`catalog_product_widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_widgets_content_ax_catalog_product_widg1`
        FOREIGN KEY (`catalog_product_widgets_id`)
            REFERENCES `a_shop`.`ax_catalog_product_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_page_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_page_type`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_page_type`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)        NOT NULL,
    `title`       VARCHAR(255)        NOT NULL,
    `description` TEXT                NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_page`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_page`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_page`
(
    `id`            BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `page_type_id`  BIGINT(20) UNSIGNED NOT NULL,
    `render_id`     BIGINT(20) UNSIGNED NULL,
    `is_published`  TINYINT(1) UNSIGNED NULL DEFAULT 1,
    `is_favourites` TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `is_comments`   TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `is_watermark`  TINYINT(1) UNSIGNED NULL DEFAULT 1,
    `url`           VARCHAR(500)        NOT NULL,
    `alias`         VARCHAR(255)        NOT NULL,
    `title`         VARCHAR(255)        NOT NULL,
    `title_short`   VARCHAR(155)        NULL DEFAULT NULL,
    `description`   TEXT                NULL DEFAULT NULL,
    `image`         VARCHAR(255)        NULL DEFAULT NULL,
    `media`         VARCHAR(255)        NULL DEFAULT NULL,
    `hits`          INT(11) UNSIGNED    NULL DEFAULT 0,
    `sort`          INT(11)             NULL DEFAULT 0,
    `created_at`    INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`    INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`    INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `page_type_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    INDEX `fk_ax_post_ax_render1_idx` (`render_id` ASC),
    UNIQUE INDEX `url_UNIQUE` (`url` ASC),
    INDEX `fk_ax_page_ax_page_type1_idx` (`page_type_id` ASC),
    CONSTRAINT `fk_ax_post_ax_render10`
        FOREIGN KEY (`render_id`)
            REFERENCES `a_shop`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_page_ax_page_type1`
        FOREIGN KEY (`page_type_id`)
            REFERENCES `a_shop`.`ax_page_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_unit_okei`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_unit_okei`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_unit_okei`
(
    `id`                   BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `code`                 VARCHAR(10)         NOT NULL,
    `title`                VARCHAR(255)        NOT NULL,
    `national_symbol`      VARCHAR(45)         NULL,
    `national_code`        VARCHAR(45)         NULL,
    `international_symbol` VARCHAR(45)         NULL,
    `international_code`   VARCHAR(45)         NULL,
    `description`          VARCHAR(255)        NULL,
    `sort`                 INT(11)             NULL,
    `image`                VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`),
    UNIQUE INDEX `code_UNIQUE` (`code` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_property_unit`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_property_unit`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_property_unit`
(
    `id`                   BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `unit_okei_id`         BIGINT(20) UNSIGNED NULL,
    `title`                VARCHAR(255)        NOT NULL,
    `national_symbol`      VARCHAR(45)         NULL,
    `international_symbol` VARCHAR(45)         NULL,
    `description`          VARCHAR(255)        NULL,
    `sort`                 INT(11)             NULL,
    `image`                VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`           INT(11) UNSIGNED    NULL DEFAULT NULL,
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`),
    INDEX `fk_ax_catalog_property_unit_ax_unit_okei1_idx` (`unit_okei_id` ASC),
    CONSTRAINT `fk_ax_catalog_property_unit_ax_unit_okei1`
        FOREIGN KEY (`unit_okei_id`)
            REFERENCES `a_shop`.`ax_unit_okei` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product_has_value_int`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product_has_value_int`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product_has_value_int`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_id`      BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_unit_id` BIGINT(20) UNSIGNED NULL,
    `value`                    INT(11)             NOT NULL,
    `sort`                     INT(11)             NULL DEFAULT 100,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_product_id`, `catalog_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_property1_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_property_uni_idx` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `a_shop`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_property_unit1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `a_shop`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product_has_value_varchar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product_has_value_varchar`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product_has_value_varchar`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_id`      BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_unit_id` BIGINT(20) UNSIGNED NULL,
    `value`                    VARCHAR(500)        NOT NULL,
    `sort`                     INT(11)             NULL DEFAULT 100,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_product_id`, `catalog_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_varchar_ax_catalog_property_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_varchar_ax_catalog_property_idx1` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product10`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_varchar_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `a_shop`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_varchar_ax_catalog_property_u1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `a_shop`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product_has_value_text`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product_has_value_text`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product_has_value_text`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL,
    `catalog_product_id`       BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_id`      BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_unit_id` BIGINT(20) UNSIGNED NULL,
    `value`                    TEXT                NOT NULL,
    `sort`                     INT(11)             NULL DEFAULT 100,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_product_id`, `catalog_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_text_ax_catalog_property1_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_text_ax_catalog_property_un_idx` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product100`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_text_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `a_shop`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_text_ax_catalog_property_unit1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `a_shop`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_product_has_value_decimal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_product_has_value_decimal`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_product_has_value_decimal`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_id`      BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_unit_id` BIGINT(20) UNSIGNED NULL,
    `value`                    DECIMAL(10, 2)      NOT NULL,
    `sort`                     INT(11)             NULL DEFAULT 100,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_product_id`, `catalog_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_idx1` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product1000`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `a_shop`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_u1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `a_shop`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_property_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_property_type`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_property_type`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)        NOT NULL COMMENT 'Таблица в которой лежит value',
    `title`       VARCHAR(255)        NOT NULL,
    `description` VARCHAR(255)        NULL,
    `sort`        INT(11)             NULL,
    `image`       VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_property`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_property`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `widgets_property_type_id` BIGINT(20) UNSIGNED NOT NULL,
    `title`                    VARCHAR(255)        NOT NULL,
    `description`              VARCHAR(255)        NULL,
    `sort`                     INT(11)             NULL,
    `image`                    VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `widgets_property_type_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_widgets_property_ax_widgets_property_type1_idx` (`widgets_property_type_id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC),
    CONSTRAINT `fk_ax_widgets_property_ax_widgets_property_type1`
        FOREIGN KEY (`widgets_property_type_id`)
            REFERENCES `a_shop`.`ax_widgets_property_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_has_value_int`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_has_value_int`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_has_value_int`
(
    `id`                  BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `widgets_id`          BIGINT(20) UNSIGNED NOT NULL,
    `widgets_property_id` BIGINT(20) UNSIGNED NOT NULL,
    `value`               INT(11)             NOT NULL,
    `sort`                INT(11)             NULL DEFAULT 100,
    `created_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `widgets_id`, `widgets_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_copy1_ax_widgets_proper_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_int_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_copy1_ax_widgets_property1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `a_shop`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_int_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `a_shop`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_has_value_varchar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_has_value_varchar`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_has_value_varchar`
(
    `id`                  BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `widgets_id`          BIGINT(20) UNSIGNED NOT NULL,
    `widgets_property_id` BIGINT(20) UNSIGNED NOT NULL,
    `value`               VARCHAR(500)        NOT NULL,
    `sort`                INT(11)             NULL DEFAULT 100,
    `created_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `widgets_id`, `widgets_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_varchar_copy1_ax_widgets_pr_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_varchar_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_varchar_copy1_ax_widgets_prop1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `a_shop`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_varchar_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `a_shop`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_has_value_text`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_has_value_text`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_has_value_text`
(
    `id`                  BIGINT(20) UNSIGNED NOT NULL,
    `widgets_id`          BIGINT(20) UNSIGNED NOT NULL,
    `widgets_property_id` BIGINT(20) UNSIGNED NOT NULL,
    `value`               TEXT                NOT NULL,
    `sort`                INT(11)             NULL DEFAULT 100,
    `created_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `widgets_id`, `widgets_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_text_copy1_ax_widgets_prope_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_text_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_text_copy1_ax_widgets_property1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `a_shop`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_text_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `a_shop`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_has_value_decimal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_has_value_decimal`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_has_value_decimal`
(
    `id`                  BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `widgets_id`          BIGINT(20) UNSIGNED NOT NULL,
    `widgets_property_id` BIGINT(20) UNSIGNED NOT NULL,
    `value`               DECIMAL(10, 2)      NOT NULL,
    `sort`                INT(11)             NULL DEFAULT 100,
    `created_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`          INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `widgets_id`, `widgets_property_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_copy1_ax_widgets_pr_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_decimal_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_copy1_ax_widgets_prop1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `a_shop`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_decimal_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `a_shop`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_property_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_property_group`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_property_group`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255)        NOT NULL,
    `description` VARCHAR(255)        NULL,
    `sort`        INT(11)             NULL,
    `image`       VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_property_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_property_group`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_property_group`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255)        NOT NULL,
    `description` VARCHAR(255)        NULL,
    `sort`        INT(11)             NULL,
    `image`       VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_user_profile`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_user_profile`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_user_profile`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`                  BIGINT(20) UNSIGNED NOT NULL,
    `catalog_delivery_type_id` BIGINT(20) UNSIGNED NULL,
    `catalog_payment_type_id`  BIGINT(20) UNSIGNED NULL,
    `title`                    VARCHAR(255)        NOT NULL,
    `description`              TEXT                NULL DEFAULT NULL,
    `image`                    VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_user_profile_ax_catalog_delivery_type1_idx` (`catalog_delivery_type_id` ASC),
    INDEX `fk_ax_user_profile_ax_catalog_payment_type1_idx` (`catalog_payment_type_id` ASC),
    INDEX `fk_ax_user_profile_ax_user1_idx` (`user_id` ASC),
    CONSTRAINT `fk_ax_user_profile_ax_catalog_delivery_type1`
        FOREIGN KEY (`catalog_delivery_type_id`)
            REFERENCES `a_shop`.`ax_catalog_delivery_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_user_profile_ax_catalog_payment_type1`
        FOREIGN KEY (`catalog_payment_type_id`)
            REFERENCES `a_shop`.`ax_catalog_payment_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_user_profile_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `a_shop`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_address`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_address`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_address`
(
    `id`          BIGINT(20) UNSIGNED  NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)         NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED  NOT NULL,
    `type`        SMALLINT(3) UNSIGNED NOT NULL,
    `is_delivery` TINYINT(1) UNSIGNED  NULL DEFAULT 0,
    `index`       INT(11)              NULL,
    `country`     VARCHAR(255)         NULL,
    `region`      VARCHAR(255)         NULL,
    `city`        VARCHAR(255)         NULL,
    `street`      VARCHAR(255)         NULL,
    `house`       VARCHAR(255)         NULL,
    `apartment`   VARCHAR(255)         NULL,
    `description` TEXT                 NULL DEFAULT NULL,
    `image`       VARCHAR(255)         NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED     NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `resource`, `resource_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_widgets_property_has_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_widgets_property_has_group`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_widgets_property_has_group`
(
    `widgets_property_id`       BIGINT(20) UNSIGNED NOT NULL,
    `widgets_property_group_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`widgets_property_id`, `widgets_property_group_id`),
    INDEX `fk_ax_widgets_property_has_ax_widgets_property_group_ax_wid_idx` (`widgets_property_group_id` ASC),
    INDEX `fk_ax_widgets_property_has_ax_widgets_property_group_ax_wid_idx1` (`widgets_property_id` ASC),
    CONSTRAINT `fk_ax_widgets_property_has_ax_widgets_property_group_ax_widge1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `a_shop`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_property_has_ax_widgets_property_group_ax_widge2`
        FOREIGN KEY (`widgets_property_group_id`)
            REFERENCES `a_shop`.`ax_widgets_property_group` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_property_has_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_property_has_group`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_property_has_group`
(
    `catalog_property_id`       BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_group_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`catalog_property_id`, `catalog_property_group_id`),
    INDEX `fk_ax_catalog_property_has_ax_catalog_property_group_ax_cat_idx` (`catalog_property_group_id` ASC),
    INDEX `fk_ax_catalog_property_has_ax_catalog_property_group_ax_cat_idx1` (`catalog_property_id` ASC),
    CONSTRAINT `fk_ax_catalog_property_has_ax_catalog_property_group_ax_catal1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `a_shop`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_property_has_ax_catalog_property_group_ax_catal2`
        FOREIGN KEY (`catalog_property_group_id`)
            REFERENCES `a_shop`.`ax_catalog_property_group` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_property_has_unit`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_property_has_unit`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_property_has_unit`
(
    `catalog_property_id`      BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_unit_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`catalog_property_id`, `catalog_property_unit_id`),
    INDEX `fk_ax_catalog_property_has_ax_catalog_property_unit_ax_cata_idx` (`catalog_property_unit_id` ASC),
    INDEX `fk_ax_catalog_property_has_ax_catalog_property_unit_ax_cata_idx1` (`catalog_property_id` ASC),
    CONSTRAINT `fk_ax_catalog_property_has_ax_catalog_property_unit_ax_catalo1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `a_shop`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_property_has_ax_catalog_property_unit_ax_catalo2`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `a_shop`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_category_has_property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_category_has_property`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_category_has_property`
(
    `catalog_category_id` BIGINT(20) UNSIGNED NOT NULL,
    `catalog_property_id` BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`catalog_category_id`, `catalog_property_id`),
    INDEX `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_p_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_c_idx` (`catalog_category_id` ASC),
    CONSTRAINT `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_cat1`
        FOREIGN KEY (`catalog_category_id`)
            REFERENCES `a_shop`.`ax_catalog_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_pro1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `a_shop`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_favorites`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_favorites`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_favorites`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    `description` TEXT                NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `resource`, `resource_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_catalog_storage_reserve`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_catalog_storage_reserve`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_catalog_storage_reserve`
(
    `id`                       BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       BIGINT(20) UNSIGNED NOT NULL,
    `catalog_document_id`      BIGINT(20) UNSIGNED NOT NULL,
    `catalog_storage_place_id` BIGINT(20) UNSIGNED NOT NULL,
    `status`                   TINYINT(1) UNSIGNED NULL DEFAULT 0,
    `in_reserve`               INT UNSIGNED        NULL DEFAULT 0,
    `expired_at`               INT(11) UNSIGNED    NULL,
    `created_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`               INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `catalog_product_id`, `catalog_document_id`, `catalog_storage_place_id`),
    INDEX `fk_ax_catalog_storage_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_storage_reserve_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_catalog_storage_reserve_ax_catalog_document1_idx` (`catalog_document_id` ASC),
    CONSTRAINT `fk_ax_catalog_storage_ax_catalog_product10`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `a_shop`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_storage_reserve_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `a_shop`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_storage_reserve_ax_catalog_document1`
        FOREIGN KEY (`catalog_document_id`)
            REFERENCES `a_shop`.`ax_catalog_document` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_seo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_seo`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_seo`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    `title`       VARCHAR(255)        NULL DEFAULT NULL,
    `description` VARCHAR(255)        NULL DEFAULT NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `resource`, `resource_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `a_shop`.`ax_main_page_settings`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `a_shop`.`ax_main_page_settings`;

CREATE TABLE IF NOT EXISTS `a_shop`.`ax_main_page_settings`
(
    `id`          BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)        NOT NULL,
    `resource_id` BIGINT(20) UNSIGNED NOT NULL,
    `script`      LONGTEXT            NULL,
    `css`         LONGTEXT            NULL,
    `created_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `updated_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    `deleted_at`  INT(11) UNSIGNED    NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `resource`, `resource_id`)
)
    ENGINE = InnoDB;


SET SQL_MODE = @OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS = @OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `a_shop`.`ax_user`
-- -----------------------------------------------------
START TRANSACTION;
USE `a_shop`;
INSERT INTO `a_shop`.`ax_user` (`id`, `first_name`, `last_name`, `patronymic`, `phone`, `email`, `is_email`, `is_phone`,
                                `status`, `password_hash`, `remember_token`, `auth_key`, `password_reset_token`,
                                `created_at`, `updated_at`, `deleted_at`)
VALUES (6, 'Алексей', 'Алексеев', 'Александрович', '9621829550', 'axlle@mail.ru', 0, 0, 8,
        '$2y$13$DMqEjJJL9gjftb80gCt5n.fOTyoTfAEv/HsQPh2IEQa42bfNsfF5S', 'kyyBBbb80b3ZflMDdsynKC0B4skxf_gF',
        'kyyBBbb80b3ZflMDdsynKC0B4skxf_gF', NULL, UNIX_TIMESTAMP(), NULL, NULL);

COMMIT;

