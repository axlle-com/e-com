-- MySQL Script generated by MySQL Workbench
-- Fri Feb 10 17:13:58 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS = @@UNIQUE_CHECKS, UNIQUE_CHECKS = 0;
SET @OLD_FOREIGN_KEY_CHECKS = @@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS = 0;
SET @OLD_SQL_MODE = @@SQL_MODE, SQL_MODE =
    'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema e_com
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema e_com
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `e_com` DEFAULT CHARACTER SET utf8;
USE `e_com`;

-- -----------------------------------------------------
-- Table `e_com`.`ax_user`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_user`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_user`
(
    `id`                   INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `first_name`           VARCHAR(255)     NOT NULL DEFAULT 'Undefined',
    `last_name`            VARCHAR(255)     NOT NULL DEFAULT 'Undefined',
    `patronymic`           VARCHAR(255)     NULL     DEFAULT NULL,
    `phone`                VARCHAR(255)     NULL     DEFAULT NULL,
    `email`                VARCHAR(255)     NULL     DEFAULT NULL,
    `is_email`             TINYINT UNSIGNED NULL     DEFAULT 0,
    `is_phone`             TINYINT UNSIGNED NULL     DEFAULT 0,
    `status`               SMALLINT         NOT NULL DEFAULT 0,
    `avatar`               VARCHAR(255)     NULL     DEFAULT NULL,
    `password_hash`        VARCHAR(255)     NOT NULL,
    `remember_token`       VARCHAR(500)     NULL     DEFAULT NULL,
    `auth_key`             VARCHAR(32)      NULL     DEFAULT NULL,
    `password_reset_token` VARCHAR(255)     NULL     DEFAULT NULL,
    `created_at`           INT UNSIGNED     NULL     DEFAULT NULL,
    `updated_at`           INT UNSIGNED     NULL     DEFAULT NULL,
    `deleted_at`           INT UNSIGNED     NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `email` (`email` ASC),
    UNIQUE INDEX `password_reset_token` (`password_reset_token` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `phone_UNIQUE` (`phone` ASC),
    INDEX `first_name` (`first_name` ASC),
    INDEX `last_name` (`last_name` ASC)
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_render`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_render`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_render`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`      VARCHAR(255) NOT NULL,
    `name`       VARCHAR(45)  NOT NULL,
    `resource`   VARCHAR(255) NULL DEFAULT NULL,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_post_category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_post_category`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_post_category`
(
    `id`                  INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `user_id`             INT UNSIGNED     NOT NULL,
    `category_id`         INT UNSIGNED     NULL DEFAULT NULL,
    `render_id`           INT UNSIGNED     NULL DEFAULT NULL,
    `is_published`        TINYINT UNSIGNED NULL DEFAULT 1,
    `is_favourites`       TINYINT UNSIGNED NULL DEFAULT 0,
    `is_watermark`        TINYINT          NULL DEFAULT 1,
    `image`               VARCHAR(255)     NULL DEFAULT NULL,
    `show_image`          TINYINT          NULL DEFAULT 1,
    `title`               VARCHAR(255)     NOT NULL,
    `title_short`         VARCHAR(150)     NULL DEFAULT NULL,
    `description`         TEXT             NULL DEFAULT NULL,
    `preview_description` TEXT             NULL DEFAULT NULL,
    `sort`                TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`          INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED     NULL DEFAULT NULL,
    `alias`               VARCHAR(255)     NULL DEFAULT NULL,
    `url`                 VARCHAR(255)     NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_post_category_ax_render1_idx` (`render_id` ASC),
    INDEX `fk_ax_post_category_ax_post_category1_idx` (`category_id` ASC),
    INDEX `fk_ax_post_category_ax_user1_idx` (`user_id` ASC),
    INDEX `title` (`title` ASC),
    CONSTRAINT `fk_ax_post_category_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `e_com`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_post_category_ax_post_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `e_com`.`ax_post_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_post_category_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_post`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_post`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_post`
(
    `id`                  INT UNSIGNED         NOT NULL AUTO_INCREMENT,
    `user_id`             INT UNSIGNED         NOT NULL,
    `render_id`           INT UNSIGNED         NULL DEFAULT NULL,
    `category_id`         INT UNSIGNED         NULL DEFAULT NULL,
    `is_published`        TINYINT UNSIGNED     NULL DEFAULT 1,
    `is_favourites`       TINYINT UNSIGNED     NULL DEFAULT 0,
    `is_comments`         TINYINT UNSIGNED     NULL DEFAULT 0,
    `is_image_post`       TINYINT UNSIGNED     NULL DEFAULT 1,
    `is_image_category`   TINYINT UNSIGNED     NULL DEFAULT 1,
    `is_watermark`        TINYINT UNSIGNED     NULL DEFAULT 1,
    `media`               VARCHAR(255)         NULL DEFAULT NULL,
    `title`               VARCHAR(255)         NOT NULL,
    `title_short`         VARCHAR(155)         NULL DEFAULT NULL,
    `preview_description` TEXT                 NULL DEFAULT NULL,
    `description`         TEXT                 NULL DEFAULT NULL,
    `show_date`           TINYINT              NULL DEFAULT 1,
    `date_pub`            INT                  NULL DEFAULT 0,
    `date_end`            INT                  NULL DEFAULT 0,
    `control_date_pub`    TINYINT              NULL DEFAULT 0,
    `control_date_end`    TINYINT              NULL DEFAULT 0,
    `image`               VARCHAR(255)         NULL DEFAULT NULL,
    `hits`                INT UNSIGNED         NULL DEFAULT 0,
    `sort`                INT                  NULL DEFAULT 0,
    `stars`               FLOAT(1, 1) UNSIGNED NULL DEFAULT 0.0,
    `created_at`          INT UNSIGNED         NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED         NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED         NULL DEFAULT NULL,
    `alias`               VARCHAR(255)         NULL DEFAULT NULL,
    `url`                 VARCHAR(255)         NULL DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_post_ax_render1_idx` (`render_id` ASC),
    INDEX `fk_ax_post_ax_post_category1_idx` (`category_id` ASC),
    INDEX `fk_ax_post_ax_user2_idx` (`user_id` ASC),
    INDEX `title` (`title` ASC),
    CONSTRAINT `fk_ax_post_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `e_com`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_post_ax_post_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `e_com`.`ax_post_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_post_ax_user2`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_comment`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_comment`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_comment`
(
    `id`          INT UNSIGNED      NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)      NOT NULL,
    `resource_id` INT UNSIGNED      NOT NULL,
    `person`      VARCHAR(255)      NOT NULL,
    `person_id`   INT               NOT NULL,
    `comment_id`  INT UNSIGNED      NULL     DEFAULT NULL,
    `status`      TINYINT UNSIGNED  NULL     DEFAULT 0,
    `is_viewed`   TINYINT           NULL     DEFAULT 0,
    `level`       SMALLINT UNSIGNED NOT NULL DEFAULT 1,
    `path`        VARCHAR(500)      NULL     DEFAULT NULL,
    `text`        TEXT              NOT NULL,
    `created_at`  INT UNSIGNED      NULL     DEFAULT NULL,
    `updated_at`  INT UNSIGNED      NULL     DEFAULT NULL,
    `deleted_at`  INT UNSIGNED      NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_post_comments_ax_post_comments1_idx` (`comment_id` ASC),
    INDEX `resource` (`resource` ASC),
    INDEX `resource_id` (`resource_id` ASC),
    INDEX `person` (`person` ASC),
    INDEX `person_id` (`person_id` ASC),
    INDEX `path` (`path` ASC),
    CONSTRAINT `fk_ax_post_comments_ax_post_comments1`
        FOREIGN KEY (`comment_id`)
            REFERENCES `e_com`.`ax_comment` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets`
(
    `id`          INT UNSIGNED NOT NULL,
    `render_id`   INT UNSIGNED NULL DEFAULT NULL,
    `name`        VARCHAR(255) NOT NULL,
    `title`       VARCHAR(255) NOT NULL,
    `description` VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC),
    INDEX `fk_ax_widgets_ax_render1_idx` (`render_id` ASC),
    CONSTRAINT `fk_ax_widgets_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `e_com`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_tag`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_tag`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_tag`
(
    `id`              INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `is_sitemap`      TINYINT          NULL DEFAULT 1,
    `is_published`    TINYINT UNSIGNED NULL DEFAULT 1,
    `is_favourites`   TINYINT UNSIGNED NULL DEFAULT 0,
    `is_watermark`    TINYINT          NULL DEFAULT 1,
    `image`           VARCHAR(255)     NULL DEFAULT NULL,
    `show_image`      TINYINT          NULL DEFAULT 1,
    `title`           VARCHAR(255)     NOT NULL,
    `title_short`     VARCHAR(150)     NULL DEFAULT NULL,
    `description`     TEXT             NULL DEFAULT NULL,
    `title_seo`       VARCHAR(255)     NULL DEFAULT NULL,
    `description_seo` VARCHAR(255)     NULL DEFAULT NULL,
    `sort`            TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`      INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`      INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`      INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC)
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_gallery`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_gallery`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_gallery`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255) NULL DEFAULT NULL,
    `description` TEXT         NULL DEFAULT NULL,
    `sort`        INT          NULL DEFAULT 0,
    `image`       VARCHAR(500) NULL DEFAULT NULL,
    `url`         VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_gallery_image`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_gallery_image`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_gallery_image`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `gallery_id`  INT UNSIGNED NOT NULL,
    `image`       VARCHAR(255) NOT NULL,
    `title`       VARCHAR(255) NULL DEFAULT NULL,
    `description` TEXT         NULL DEFAULT NULL,
    `sort`        INT          NULL DEFAULT 0,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `href_UNIQUE` (`image` ASC),
    INDEX `fk_ax_gallery_image_ax_gallery1_idx` (`gallery_id` ASC),
    CONSTRAINT `fk_ax_gallery_image_ax_gallery1`
        FOREIGN KEY (`gallery_id`)
            REFERENCES `e_com`.`ax_gallery` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_tag_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_tag_has_resource`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_tag_has_resource`
(
    `tag_id`      INT UNSIGNED NOT NULL,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    PRIMARY KEY (`tag_id`, `resource`, `resource_id`),
    INDEX `fk_ax_post_has_ax_post_tags_ax_post_tags1_idx` (`tag_id` ASC),
    CONSTRAINT `fk_ax_post_has_ax_post_tags_ax_post_tags1`
        FOREIGN KEY (`tag_id`)
            REFERENCES `e_com`.`ax_tag` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_menu`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_menu`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_menu`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255) NOT NULL,
    `name`        VARCHAR(45)  NOT NULL,
    `description` VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_menu_item`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_menu_item`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_menu_item`
(
    `id`           INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `menu_id`      INT UNSIGNED NOT NULL,
    `menu_item_id` INT UNSIGNED NULL DEFAULT NULL,
    `resource`     VARCHAR(255) NULL DEFAULT NULL,
    `resource_id`  INT UNSIGNED NULL DEFAULT NULL,
    `title`        VARCHAR(255) NOT NULL,
    `sort`         INT          NULL DEFAULT 0,
    `url`          VARCHAR(255) NOT NULL,
    `created_at`   INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`   INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`   INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_menu_item_ax_menu1_idx` (`menu_id` ASC),
    INDEX `fk_ax_menu_item_ax_menu_item1_idx` (`menu_item_id` ASC),
    CONSTRAINT `fk_ax_menu_item_ax_menu1`
        FOREIGN KEY (`menu_id`)
            REFERENCES `e_com`.`ax_menu` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_menu_item_ax_menu_item1`
        FOREIGN KEY (`menu_item_id`)
            REFERENCES `e_com`.`ax_menu_item` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_setting`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_setting`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_setting`
(
    `id`           INT UNSIGNED  NOT NULL AUTO_INCREMENT,
    `key`          VARCHAR(45)   NOT NULL,
    `title`        VARCHAR(100)  NOT NULL,
    `description`  TEXT          NULL DEFAULT NULL,
    `value_string` VARCHAR(1000) NULL DEFAULT NULL,
    `value_text`   LONGTEXT      NULL DEFAULT NULL,
    `value_json`   TEXT          NULL DEFAULT NULL,
    `value_bool`   SMALLINT      NULL DEFAULT 0,
    `created_at`   INT UNSIGNED  NOT NULL,
    `updated_at`   INT UNSIGNED  NOT NULL,
    `deleted_at`   INT UNSIGNED  NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `key_UNIQUE` (`key` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_user_guest`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_user_guest`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_user_guest`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `email`      VARCHAR(255) NOT NULL,
    `name`       VARCHAR(255) NULL DEFAULT NULL,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `email_UNIQUE` (`email` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_letter`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_letter`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_letter`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    `person`      VARCHAR(255) NOT NULL,
    `person_id`   INT          NOT NULL,
    `subject`     VARCHAR(255) NULL DEFAULT NULL,
    `text`        TEXT         NULL DEFAULT NULL,
    `is_viewed`   TINYINT      NULL DEFAULT 0,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_ips`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_ips`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_ips`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `ip`         VARCHAR(255) NOT NULL,
    `status`     TINYINT      NULL DEFAULT 1,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `ip_UNIQUE` (`ip` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_history`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_history`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_history`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `ips_id`      INT UNSIGNED NOT NULL,
    `user_id`     INT UNSIGNED NULL     DEFAULT NULL,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    `event`       VARCHAR(255) NOT NULL DEFAULT 'created',
    `body`        TEXT         NULL     DEFAULT NULL,
    `description` TEXT         NULL     DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL     DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL     DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL     DEFAULT NULL,
    INDEX `fk_ax_ips_has_ax_visitors_ax_ips1_idx` (`ips_id` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`),
    INDEX `fk_ax_main_ips_has_resource_ax_user1_idx` (`user_id` ASC),
    CONSTRAINT `fk_ax_ips_has_ax_visitors_ax_ips1`
        FOREIGN KEY (`ips_id`)
            REFERENCES `e_com`.`ax_main_ips` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_main_ips_has_resource_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_has_resource`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_has_resource`
(
    `widgets_id`  INT UNSIGNED NOT NULL,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    PRIMARY KEY (`widgets_id`, `resource`, `resource_id`),
    INDEX `fk_ax_post_has_ax_widgets_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_post_has_ax_widgets_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `e_com`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_redirect`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_redirect`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_redirect`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `url`        VARCHAR(500) NOT NULL,
    `url_old`    VARCHAR(500) NOT NULL,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_menu_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_menu_has_resource`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_menu_has_resource`
(
    `menu_id`     INT UNSIGNED NOT NULL,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    PRIMARY KEY (`menu_id`, `resource`, `resource_id`),
    INDEX `fk_ax_menu_has_ax_post_category_ax_menu1_idx` (`menu_id` ASC),
    CONSTRAINT `fk_ax_menu_has_ax_post_category_ax_menu10`
        FOREIGN KEY (`menu_id`)
            REFERENCES `e_com`.`ax_menu` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_user_token`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_user_token`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_user_token`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`    INT UNSIGNED NOT NULL,
    `type`       VARCHAR(45)  NOT NULL,
    `token`      VARCHAR(300) NOT NULL,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    `expired_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_table1_ax_user1_idx` (`user_id` ASC),
    UNIQUE INDEX `value_UNIQUE` (`token` ASC),
    CONSTRAINT `fk_table1_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_gallery_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_gallery_has_resource`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_gallery_has_resource`
(
    `gallery_id`  INT UNSIGNED NOT NULL,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    PRIMARY KEY (`gallery_id`, `resource`, `resource_id`),
    INDEX `fk_ax_gallery_has_resource_ax_gallery1_idx` (`gallery_id` ASC),
    CONSTRAINT `fk_ax_gallery_has_resource_ax_gallery1`
        FOREIGN KEY (`gallery_id`)
            REFERENCES `e_com`.`ax_gallery` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_phone`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_phone`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_phone`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `number`     VARCHAR(45)  NOT NULL,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `number_UNIQUE` (`number` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_phone_has_resource`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_phone_has_resource`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_phone_has_resource`
(
    `phone_id`    INT UNSIGNED NOT NULL,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    PRIMARY KEY (`phone_id`, `resource`, `resource_id`),
    INDEX `fk_ax_phone_has_resource_ax_phone1_idx` (`phone_id` ASC),
    CONSTRAINT `fk_ax_phone_has_resource_ax_phone1`
        FOREIGN KEY (`phone_id`)
            REFERENCES `e_com`.`ax_phone` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_migration`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_migration`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_migration`
(
    `id`        INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `migration` VARCHAR(255) NOT NULL,
    `batch`     INT          NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_category`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_category`
(
    `id`                  INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `category_id`         INT UNSIGNED     NULL DEFAULT NULL,
    `render_id`           INT UNSIGNED     NULL DEFAULT NULL,
    `is_published`        TINYINT UNSIGNED NULL DEFAULT 1,
    `is_favourites`       TINYINT UNSIGNED NULL DEFAULT 0,
    `is_watermark`        TINYINT          NULL DEFAULT 1,
    `image`               VARCHAR(255)     NULL DEFAULT NULL,
    `show_image`          TINYINT          NULL DEFAULT 1,
    `title`               VARCHAR(255)     NOT NULL,
    `title_short`         VARCHAR(150)     NULL DEFAULT NULL,
    `description`         TEXT             NULL DEFAULT NULL,
    `preview_description` TEXT             NULL DEFAULT NULL,
    `sort`                INT UNSIGNED     NULL DEFAULT 0,
    `created_at`          INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED     NULL DEFAULT NULL,
    `alias`               VARCHAR(255)     NULL DEFAULT NULL,
    `url`                 VARCHAR(255)     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_category_ax_catalog_category1_idx` (`category_id` ASC),
    INDEX `fk_ax_catalog_category_ax_render1_idx` (`render_id` ASC),
    INDEX `title` (`title` ASC),
    CONSTRAINT `fk_ax_catalog_category_ax_catalog_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `e_com`.`ax_catalog_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_category_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `e_com`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product`
(
    `id`                  INT UNSIGNED            NOT NULL AUTO_INCREMENT,
    `category_id`         INT UNSIGNED            NULL     DEFAULT NULL,
    `render_id`           INT UNSIGNED            NULL     DEFAULT NULL,
    `is_published`        TINYINT UNSIGNED        NOT NULL DEFAULT 0,
    `is_favourites`       TINYINT UNSIGNED        NULL     DEFAULT 0,
    `is_comments`         TINYINT UNSIGNED        NULL     DEFAULT 0,
    `is_watermark`        TINYINT UNSIGNED        NULL     DEFAULT 1,
    `is_single`           TINYINT UNSIGNED        NULL     DEFAULT 0,
    `media`               VARCHAR(255)            NULL     DEFAULT NULL,
    `title`               VARCHAR(255)            NOT NULL,
    `price`               DECIMAL(10, 2)          NULL     DEFAULT 0.0,
    `title_short`         VARCHAR(155)            NULL     DEFAULT NULL,
    `preview_description` TEXT                    NULL     DEFAULT NULL,
    `description`         TEXT                    NULL     DEFAULT NULL,
    `show_date`           TINYINT                 NULL     DEFAULT 1,
    `image`               VARCHAR(255)            NULL     DEFAULT NULL,
    `hits`                INT UNSIGNED            NULL     DEFAULT 0,
    `sort`                INT                     NULL     DEFAULT 0,
    `stars`               DECIMAL(10, 2) UNSIGNED NULL     DEFAULT 0.0,
    `created_at`          INT UNSIGNED            NULL     DEFAULT NULL,
    `updated_at`          INT UNSIGNED            NULL     DEFAULT NULL,
    `deleted_at`          INT UNSIGNED            NULL     DEFAULT NULL,
    `alias`               VARCHAR(255)            NULL     DEFAULT NULL,
    `url`                 VARCHAR(255)            NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_ax_render1_idx` (`render_id` ASC),
    INDEX `fk_ax_catalog_product_ax_catalog_category1_idx` (`category_id` ASC),
    INDEX `title` (`title` ASC),
    FULLTEXT INDEX `description` (`description`),
    CONSTRAINT `fk_ax_catalog_product_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `e_com`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_ax_catalog_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `e_com`.`ax_catalog_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_type`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_type`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL COMMENT 'Таблица в которой лежит value',
    `title`       VARCHAR(255) NOT NULL,
    `description` VARCHAR(255) NULL DEFAULT NULL,
    `sort`        INT          NULL DEFAULT NULL,
    `image`       VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_unit_okei`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_unit_okei`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_unit_okei`
(
    `id`                   INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `code`                 VARCHAR(10)  NOT NULL,
    `title`                VARCHAR(255) NOT NULL,
    `national_symbol`      VARCHAR(45)  NULL DEFAULT NULL,
    `national_code`        VARCHAR(45)  NULL DEFAULT NULL,
    `international_symbol` VARCHAR(45)  NULL DEFAULT NULL,
    `international_code`   VARCHAR(45)  NULL DEFAULT NULL,
    `description`          VARCHAR(255) NULL DEFAULT NULL,
    `sort`                 INT          NULL DEFAULT NULL,
    `image`                VARCHAR(255) NULL DEFAULT NULL,
    `created_at`           INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`           INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`           INT UNSIGNED NULL DEFAULT NULL,
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`),
    UNIQUE INDEX `code_UNIQUE` (`code` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_unit`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_unit`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_unit`
(
    `id`                   INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `unit_okei_id`         INT UNSIGNED NULL DEFAULT NULL,
    `title`                VARCHAR(255) NOT NULL,
    `national_symbol`      VARCHAR(45)  NULL DEFAULT NULL,
    `international_symbol` VARCHAR(45)  NULL DEFAULT NULL,
    `description`          VARCHAR(255) NULL DEFAULT NULL,
    `sort`                 INT          NULL DEFAULT NULL,
    `image`                VARCHAR(255) NULL DEFAULT NULL,
    `created_at`           INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`           INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`           INT UNSIGNED NULL DEFAULT NULL,
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`),
    INDEX `fk_ax_catalog_property_unit_ax_unit_okei1_idx` (`unit_okei_id` ASC),
    CONSTRAINT `fk_ax_catalog_property_unit_ax_unit_okei1`
        FOREIGN KEY (`unit_okei_id`)
            REFERENCES `e_com`.`ax_unit_okei` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_property_type_id` INT UNSIGNED     NOT NULL,
    `catalog_property_unit_id` INT UNSIGNED     NULL DEFAULT NULL,
    `is_hidden`                TINYINT UNSIGNED NULL DEFAULT NULL,
    `title`                    VARCHAR(255)     NOT NULL,
    `description`              VARCHAR(255)     NULL DEFAULT NULL,
    `sort`                     INT UNSIGNED     NULL DEFAULT NULL,
    `image`                    VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    PRIMARY KEY (`id`),
    INDEX `fk_ax_catalog_property_ax_catalog_property_type1_idx` (`catalog_property_type_id` ASC),
    INDEX `fk_ax_catalog_property_ax_catalog_property_unit1_idx` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_property_ax_catalog_property_type1`
        FOREIGN KEY (`catalog_property_type_id`)
            REFERENCES `e_com`.`ax_catalog_property_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_property_ax_catalog_property_unit1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `e_com`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_currency`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_currency`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_currency`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `global_id`  VARCHAR(50)  NOT NULL,
    `num_code`   INT          NOT NULL,
    `char_code`  VARCHAR(45)  NOT NULL,
    `title`      VARCHAR(500) NOT NULL,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `num_code_UNIQUE` (`num_code` ASC),
    UNIQUE INDEX `char_code_UNIQUE` (`char_code` ASC),
    UNIQUE INDEX `global_id_UNIQUE` (`global_id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_payment_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_payment_type`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_payment_type`
(
    `id`          INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `is_active`   TINYINT          NOT NULL DEFAULT 0,
    `title`       VARCHAR(255)     NOT NULL,
    `alias`       VARCHAR(255)     NOT NULL,
    `description` TEXT             NULL     DEFAULT NULL,
    `image`       VARCHAR(255)     NULL     DEFAULT NULL,
    `sort`        TINYINT UNSIGNED NULL     DEFAULT 100,
    `created_at`  INT UNSIGNED     NULL     DEFAULT NULL,
    `updated_at`  INT UNSIGNED     NULL     DEFAULT NULL,
    `deleted_at`  INT UNSIGNED     NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_delivery_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_delivery_type`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_delivery_type`
(
    `id`          INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `is_active`   TINYINT          NOT NULL DEFAULT 0,
    `title`       VARCHAR(255)     NOT NULL,
    `alias`       VARCHAR(255)     NOT NULL,
    `cost`        DECIMAL          NULL     DEFAULT 0.0,
    `description` TEXT             NULL     DEFAULT NULL,
    `image`       VARCHAR(255)     NULL     DEFAULT NULL,
    `sort`        TINYINT UNSIGNED NULL     DEFAULT 100,
    `created_at`  INT UNSIGNED     NULL     DEFAULT NULL,
    `updated_at`  INT UNSIGNED     NULL     DEFAULT NULL,
    `deleted_at`  INT UNSIGNED     NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_coupon`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_coupon`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_coupon`
(
    `id`          INT UNSIGNED      NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)      NULL     DEFAULT NULL,
    `resource_id` INT UNSIGNED      NULL     DEFAULT NULL,
    `value`       VARCHAR(255)      NOT NULL,
    `discount`    SMALLINT UNSIGNED NOT NULL DEFAULT 10,
    `status`      SMALLINT UNSIGNED NULL     DEFAULT 0,
    `image`       VARCHAR(255)      NULL     DEFAULT NULL,
    `expired_at`  INT UNSIGNED      NULL     DEFAULT NULL,
    `created_at`  INT UNSIGNED      NULL     DEFAULT NULL,
    `updated_at`  INT UNSIGNED      NULL     DEFAULT NULL,
    `deleted_at`  INT UNSIGNED      NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `value_UNIQUE` (`value` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_storage_place`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_storage_place`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_storage_place`
(
    `id`                       INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED NULL     DEFAULT NULL,
    `is_place`                 TINYINT      NOT NULL DEFAULT 0,
    `title`                    VARCHAR(500) NOT NULL,
    `created_at`               INT UNSIGNED NULL     DEFAULT NULL,
    `updated_at`               INT UNSIGNED NULL     DEFAULT NULL,
    `deleted_at`               INT UNSIGNED NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_storage_place_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `title` (`title` ASC),
    CONSTRAINT `fk_ax_catalog_storage_place_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_counterparty`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_counterparty`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_counterparty`
(
    `id`            INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`       INT UNSIGNED NULL DEFAULT NULL,
    `is_individual` TINYINT      NULL DEFAULT 1,
    `name`          VARCHAR(45)  NULL DEFAULT NULL,
    `name_full`     VARCHAR(500) NULL DEFAULT NULL,
    `created_at`    INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`    INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`    INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_table1_ax_user1_idx` (`user_id` ASC),
    CONSTRAINT `fk_table1_ax_user10`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_sale`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_sale`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_sale`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`  INT UNSIGNED     NOT NULL,
    `counterparty_id`          INT UNSIGNED     NOT NULL,
    `document`                 VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `currency_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_document_sale_ax_counterparty1_idx` (`counterparty_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency10`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place10`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_sale_ax_counterparty1`
        FOREIGN KEY (`counterparty_id`)
            REFERENCES `e_com`.`ax_counterparty` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_delivery_status`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_delivery_status`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_delivery_status`
(
    `id`          INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255)     NOT NULL,
    `key`         VARCHAR(255)     NOT NULL,
    `description` TEXT             NULL DEFAULT NULL,
    `image`       VARCHAR(255)     NULL DEFAULT NULL,
    `sort`        TINYINT UNSIGNED NULL DEFAULT 100,
    `created_at`  INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_payment_status`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_payment_status`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_payment_status`
(
    `id`          INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255)     NOT NULL,
    `key`         VARCHAR(255)     NOT NULL,
    `description` TEXT             NULL DEFAULT NULL,
    `image`       VARCHAR(255)     NULL DEFAULT NULL,
    `sort`        TINYINT UNSIGNED NULL DEFAULT 100,
    `created_at`  INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_order`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_order`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_order`
(
    `id`                         INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `uuid`                       VARCHAR(100)     NOT NULL,
    `catalog_payment_type_id`    INT UNSIGNED     NOT NULL,
    `catalog_delivery_type_id`   INT UNSIGNED     NOT NULL,
    `counterparty_id`            INT UNSIGNED     NOT NULL,
    `catalog_storage_place_id`   INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`    INT UNSIGNED     NOT NULL,
    `document_sale_id`           INT UNSIGNED     NULL DEFAULT NULL,
    `catalog_coupon_id`          INT UNSIGNED     NULL DEFAULT NULL,
    `catalog_payment_status_id`  INT UNSIGNED     NULL DEFAULT NULL,
    `catalog_delivery_status_id` INT UNSIGNED     NULL DEFAULT NULL,
    `delivery_order_id`          VARCHAR(100)     NULL DEFAULT NULL,
    `payment_order_id`           VARCHAR(100)     NULL DEFAULT NULL,
    `delivery_cost`              DECIMAL          NULL DEFAULT 0.0,
    `delivery_address`           VARCHAR(500)     NULL DEFAULT NULL,
    `delivery_tariff`            INT              NULL DEFAULT NULL,
    `status`                     TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`                 INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`                 INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`                 INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_payment_type1_idx` (`catalog_payment_type_id` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_delivery_type1_idx` (`catalog_delivery_type_id` ASC),
    UNIQUE INDEX `uuid_UNIQUE` (`uuid` ASC),
    INDEX `fk_ax_catalog_order_ax_catalog_coupon1_idx` (`catalog_coupon_id` ASC),
    INDEX `fk_ax_catalog_order_ax_document_sale1_idx` (`document_sale_id` ASC),
    INDEX `fk_ax_document_order_ax_counterparty1_idx` (`counterparty_id` ASC),
    INDEX `fk_ax_document_order_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_document_order_ax_catalog_delivery_status1_idx` (`catalog_delivery_status_id` ASC),
    INDEX `fk_ax_document_order_ax_catalog_payment_status1_idx` (`catalog_payment_status_id` ASC),
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_payment_type1`
        FOREIGN KEY (`catalog_payment_type_id`)
            REFERENCES `e_com`.`ax_catalog_payment_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_delivery_type1`
        FOREIGN KEY (`catalog_delivery_type_id`)
            REFERENCES `e_com`.`ax_catalog_delivery_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_catalog_coupon1`
        FOREIGN KEY (`catalog_coupon_id`)
            REFERENCES `e_com`.`ax_catalog_coupon` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_order_ax_document_sale1`
        FOREIGN KEY (`document_sale_id`)
            REFERENCES `e_com`.`ax_document_sale` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_ax_counterparty1`
        FOREIGN KEY (`counterparty_id`)
            REFERENCES `e_com`.`ax_counterparty` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_ax_catalog_delivery_status1`
        FOREIGN KEY (`catalog_delivery_status_id`)
            REFERENCES `e_com`.`ax_catalog_delivery_status` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_ax_catalog_payment_status1`
        FOREIGN KEY (`catalog_payment_status_id`)
            REFERENCES `e_com`.`ax_catalog_payment_status` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_basket`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_basket`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_basket`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `user_id`            INT UNSIGNED     NOT NULL,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `document_order_id`  INT UNSIGNED     NULL DEFAULT NULL,
    `currency_id`        INT UNSIGNED     NULL DEFAULT NULL,
    `quantity`           INT              NULL DEFAULT NULL,
    `status`             TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_basket_ax_user1_idx` (`user_id` ASC),
    INDEX `fk_ax_catalog_basket_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_basket_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_basket_ax_document_order1_idx` (`document_order_id` ASC),
    CONSTRAINT `fk_ax_catalog_basket_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_basket_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_basket_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_basket_ax_document_order1`
        FOREIGN KEY (`document_order_id`)
            REFERENCES `e_com`.`ax_document_order` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_currency_exchange_rate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_currency_exchange_rate`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_currency_exchange_rate`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `currency_id` INT UNSIGNED NOT NULL,
    `value`       DECIMAL      NOT NULL,
    `date_rate`   INT UNSIGNED NOT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_currency_exchange_rate_ax_currency1_idx` (`currency_id` ASC),
    CONSTRAINT `fk_ax_currency_exchange_rate_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product_has_currency`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product_has_currency`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product_has_currency`
(
    `catalog_product_id` INT UNSIGNED            NOT NULL,
    `currency_id`        INT UNSIGNED            NOT NULL,
    `amount`             DECIMAL(10, 2) UNSIGNED NOT NULL DEFAULT 0.0,
    `date_rate`          INT UNSIGNED            NOT NULL,
    PRIMARY KEY (`catalog_product_id`, `currency_id`),
    INDEX `fk_ax_catalog_product_has_ax_currency_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_product_has_ax_currency_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_ax_currency_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_ax_currency_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_coming`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_coming`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_coming`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`  INT UNSIGNED     NOT NULL,
    `counterparty_id`          INT UNSIGNED     NOT NULL,
    `currency_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `document`                 VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_document_coming_ax_counterparty1_idx` (`counterparty_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_coming_ax_counterparty1`
        FOREIGN KEY (`counterparty_id`)
            REFERENCES `e_com`.`ax_counterparty` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_storage`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_storage`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_storage`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `catalog_product_id`       INT UNSIGNED     NOT NULL,
    `in_stock`                 INT UNSIGNED     NOT NULL DEFAULT 0,
    `in_reserve`               INT UNSIGNED     NULL     DEFAULT 0,
    `reserve_expired_at`       INT UNSIGNED     NULL     DEFAULT NULL,
    `price_in`                 DECIMAL UNSIGNED NULL     DEFAULT 0.0,
    `price_out`                DECIMAL UNSIGNED NULL     DEFAULT 0.0,
    `created_at`               INT UNSIGNED     NULL     DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL     DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL     DEFAULT NULL,
    PRIMARY KEY (`id`),
    INDEX `fk_ax_catalog_storage_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_storage_ax_catalog_storage_place1` (`catalog_storage_place_id` ASC),
    CONSTRAINT `fk_ax_catalog_storage_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_storage_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_coming_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_coming_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_coming_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `price_out`          DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_coming_content_ax_document_coming1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage1`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_coming_content_ax_document_coming1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_coming` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_wallet_currency`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_wallet_currency`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_wallet_currency`
(
    `id`          INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `currency_id` INT UNSIGNED     NOT NULL,
    `name`        VARCHAR(50)      NOT NULL,
    `title`       VARCHAR(45)      NOT NULL,
    `is_national` TINYINT UNSIGNED NOT NULL,
    `created_at`  INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_wallet_currency_ax_currency1_idx` (`currency_id` ASC),
    CONSTRAINT `fk_ax_wallet_currency_ax_currency1`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_wallet`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_wallet`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_wallet`
(
    `id`                 INT UNSIGNED   NOT NULL AUTO_INCREMENT,
    `user_id`            INT UNSIGNED   NOT NULL,
    `wallet_currency_id` INT UNSIGNED   NOT NULL,
    `balance`            FLOAT UNSIGNED NULL DEFAULT 0.0,
    `created_at`         INT UNSIGNED   NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED   NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED   NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_wallet_ax_user1_idx` (`user_id` ASC),
    INDEX `fk_ax_wallet_ax_wallet_currency1_idx` (`wallet_currency_id` ASC),
    CONSTRAINT `fk_ax_wallet_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_wallet_ax_wallet_currency1`
        FOREIGN KEY (`wallet_currency_id`)
            REFERENCES `e_com`.`ax_wallet_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_wallet_transaction_subject`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_wallet_transaction_subject`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_wallet_transaction_subject`
(
    `id`                      INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `fin_transaction_type_id` INT UNSIGNED NOT NULL,
    `name`                    VARCHAR(45)  NOT NULL,
    `title`                   VARCHAR(500) NOT NULL,
    `created_at`              INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`              INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`              INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `name_UNIQUE` (`name` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_wallet_transaction`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_wallet_transaction`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_wallet_transaction`
(
    `id`                            INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `wallet_id`                     INT UNSIGNED NOT NULL,
    `wallet_currency_id`            INT UNSIGNED NOT NULL,
    `wallet_transaction_subject_id` INT UNSIGNED NOT NULL,
    `value`                         DECIMAL      NULL DEFAULT 0.0,
    `resource`                      VARCHAR(255) NULL DEFAULT NULL,
    `resource_id`                   INT UNSIGNED NULL DEFAULT NULL,
    `created_at`                    INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`                    INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`                    INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_wallet_transaction_ax_wallet1_idx` (`wallet_id` ASC),
    INDEX `fk_ax_wallet_transaction_ax_wallet_currency1_idx` (`wallet_currency_id` ASC),
    INDEX `fk_ax_wallet_transaction_ax_wallet_transaction_subject1_idx` (`wallet_transaction_subject_id` ASC),
    CONSTRAINT `fk_ax_wallet_transaction_ax_wallet1`
        FOREIGN KEY (`wallet_id`)
            REFERENCES `e_com`.`ax_wallet` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_wallet_transaction_ax_wallet_currency1`
        FOREIGN KEY (`wallet_currency_id`)
            REFERENCES `e_com`.`ax_wallet_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_wallet_transaction_ax_wallet_transaction_subject1`
        FOREIGN KEY (`wallet_transaction_subject_id`)
            REFERENCES `e_com`.`ax_wallet_transaction_subject` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product_widgets`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product_widgets`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product_widgets`
(
    `id`                 INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id` INT UNSIGNED NOT NULL,
    `render_id`          INT UNSIGNED NULL DEFAULT NULL,
    `name`               VARCHAR(255) NOT NULL,
    `title`              VARCHAR(255) NOT NULL,
    `description`        VARCHAR(255) NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_widgets_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_widgets_ax_render1_idx` (`render_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_widgets_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_widgets_ax_render1`
        FOREIGN KEY (`render_id`)
            REFERENCES `e_com`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product_widgets_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product_widgets_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product_widgets_content`
(
    `id`                         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_widgets_id` INT UNSIGNED NOT NULL,
    `title`                      VARCHAR(255) NOT NULL,
    `title_short`                VARCHAR(155) NOT NULL,
    `description`                TEXT         NULL DEFAULT NULL,
    `image`                      VARCHAR(255) NULL DEFAULT NULL,
    `sort`                       INT          NULL DEFAULT 0,
    `show_image`                 TINYINT      NULL DEFAULT 1,
    `media`                      VARCHAR(255) NULL DEFAULT NULL,
    `created_at`                 INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`                 INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`                 INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC),
    INDEX `fk_ax_catalog_product_widgets_content_ax_catalog_product_wi_idx` (`catalog_product_widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_widgets_content_ax_catalog_product_widg1`
        FOREIGN KEY (`catalog_product_widgets_id`)
            REFERENCES `e_com`.`ax_catalog_product_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_page`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_page`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_page`
(
    `id`            INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `render_id`     INT UNSIGNED     NULL DEFAULT NULL,
    `is_published`  TINYINT UNSIGNED NULL DEFAULT 1,
    `is_favourites` TINYINT UNSIGNED NULL DEFAULT 0,
    `is_comments`   TINYINT UNSIGNED NULL DEFAULT 0,
    `is_watermark`  TINYINT UNSIGNED NULL DEFAULT 1,
    `title`         VARCHAR(255)     NOT NULL,
    `title_short`   VARCHAR(155)     NULL DEFAULT NULL,
    `description`   TEXT             NULL DEFAULT NULL,
    `image`         VARCHAR(255)     NULL DEFAULT NULL,
    `media`         VARCHAR(255)     NULL DEFAULT NULL,
    `hits`          INT UNSIGNED     NULL DEFAULT 0,
    `sort`          INT              NULL DEFAULT 0,
    `created_at`    INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`    INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`    INT UNSIGNED     NULL DEFAULT NULL,
    `alias`         VARCHAR(255)     NOT NULL,
    `url`           VARCHAR(255)     NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_post_ax_render1_idx` (`render_id` ASC),
    INDEX `title` (`title` ASC),
    CONSTRAINT `fk_ax_post_ax_render10`
        FOREIGN KEY (`render_id`)
            REFERENCES `e_com`.`ax_render` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB
    DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product_has_value_int`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product_has_value_int`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product_has_value_int`
(
    `id`                       INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       INT UNSIGNED NOT NULL,
    `catalog_property_id`      INT UNSIGNED NOT NULL,
    `catalog_property_unit_id` INT UNSIGNED NULL DEFAULT NULL,
    `value`                    INT          NOT NULL,
    `sort`                     INT          NULL DEFAULT 100,
    `created_at`               INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_property1_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_property_uni_idx` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `e_com`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_property_unit1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `e_com`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product_has_value_varchar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product_has_value_varchar`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product_has_value_varchar`
(
    `id`                       INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       INT UNSIGNED NOT NULL,
    `catalog_property_id`      INT UNSIGNED NOT NULL,
    `catalog_property_unit_id` INT UNSIGNED NULL DEFAULT NULL,
    `value`                    VARCHAR(500) NOT NULL,
    `sort`                     INT          NULL DEFAULT 100,
    `created_at`               INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_varchar_ax_catalog_property_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_varchar_ax_catalog_property_idx1` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product10`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_varchar_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `e_com`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_varchar_ax_catalog_property_u1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `e_com`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product_has_value_text`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product_has_value_text`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product_has_value_text`
(
    `id`                       INT UNSIGNED NOT NULL,
    `catalog_product_id`       INT UNSIGNED NOT NULL,
    `catalog_property_id`      INT UNSIGNED NOT NULL,
    `catalog_property_unit_id` INT UNSIGNED NULL DEFAULT NULL,
    `value`                    TEXT         NOT NULL,
    `sort`                     INT          NULL DEFAULT 100,
    `created_at`               INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_text_ax_catalog_property1_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_text_ax_catalog_property_un_idx` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product100`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_text_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `e_com`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_text_ax_catalog_property_unit1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `e_com`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_product_has_value_decimal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_product_has_value_decimal`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_product_has_value_decimal`
(
    `id`                       INT UNSIGNED   NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       INT UNSIGNED   NOT NULL,
    `catalog_property_id`      INT UNSIGNED   NOT NULL,
    `catalog_property_unit_id` INT UNSIGNED   NULL DEFAULT NULL,
    `value`                    DECIMAL(10, 2) NOT NULL,
    `sort`                     INT            NULL DEFAULT 100,
    `created_at`               INT UNSIGNED   NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED   NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED   NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_idx1` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product1000`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_ax_catalog_property1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `e_com`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_u1`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `e_com`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_property_type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_property_type`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_property_type`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL COMMENT 'Таблица в которой лежит value',
    `title`       VARCHAR(255) NOT NULL,
    `description` VARCHAR(255) NULL DEFAULT NULL,
    `sort`        INT          NULL DEFAULT NULL,
    `image`       VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_property`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_property`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_property`
(
    `id`                       INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `widgets_property_type_id` INT UNSIGNED NOT NULL,
    `title`                    VARCHAR(255) NOT NULL,
    `description`              VARCHAR(255) NULL DEFAULT NULL,
    `sort`                     INT          NULL DEFAULT NULL,
    `image`                    VARCHAR(255) NULL DEFAULT NULL,
    `created_at`               INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_widgets_property_ax_widgets_property_type1_idx` (`widgets_property_type_id` ASC),
    UNIQUE INDEX `title_UNIQUE` (`title` ASC),
    CONSTRAINT `fk_ax_widgets_property_ax_widgets_property_type1`
        FOREIGN KEY (`widgets_property_type_id`)
            REFERENCES `e_com`.`ax_widgets_property_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_has_value_int`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_has_value_int`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_has_value_int`
(
    `id`                  INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `widgets_id`          INT UNSIGNED NOT NULL,
    `widgets_property_id` INT UNSIGNED NOT NULL,
    `value`               INT          NOT NULL,
    `sort`                INT          NULL DEFAULT 100,
    `created_at`          INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_copy1_ax_widgets_proper_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_int_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_copy1_ax_widgets_property1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `e_com`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_int_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `e_com`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_has_value_varchar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_has_value_varchar`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_has_value_varchar`
(
    `id`                  INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `widgets_id`          INT UNSIGNED NOT NULL,
    `widgets_property_id` INT UNSIGNED NOT NULL,
    `value`               VARCHAR(500) NOT NULL,
    `sort`                INT          NULL DEFAULT 100,
    `created_at`          INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_varchar_copy1_ax_widgets_pr_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_varchar_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_varchar_copy1_ax_widgets_prop1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `e_com`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_varchar_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `e_com`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_has_value_text`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_has_value_text`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_has_value_text`
(
    `id`                  INT UNSIGNED NOT NULL,
    `widgets_id`          INT UNSIGNED NOT NULL,
    `widgets_property_id` INT UNSIGNED NOT NULL,
    `value`               TEXT         NOT NULL,
    `sort`                INT          NULL DEFAULT 100,
    `created_at`          INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_text_copy1_ax_widgets_prope_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_text_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_text_copy1_ax_widgets_property1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `e_com`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_text_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `e_com`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_has_value_decimal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_has_value_decimal`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_has_value_decimal`
(
    `id`                  INT UNSIGNED   NOT NULL AUTO_INCREMENT,
    `widgets_id`          INT UNSIGNED   NOT NULL,
    `widgets_property_id` INT UNSIGNED   NOT NULL,
    `value`               DECIMAL(10, 2) NOT NULL,
    `sort`                INT            NULL DEFAULT 100,
    `created_at`          INT UNSIGNED   NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED   NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED   NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_copy1_ax_widgets_pr_idx` (`widgets_property_id` ASC),
    INDEX `fk_ax_widgets_has_value_decimal_ax_widgets1_idx` (`widgets_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_copy1_ax_widgets_prop1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `e_com`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_has_value_decimal_ax_widgets1`
        FOREIGN KEY (`widgets_id`)
            REFERENCES `e_com`.`ax_widgets` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_property_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_property_group`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_property_group`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255) NOT NULL,
    `description` VARCHAR(255) NULL DEFAULT NULL,
    `sort`        INT          NULL DEFAULT NULL,
    `image`       VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_group`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_group`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `title`       VARCHAR(255) NOT NULL,
    `description` VARCHAR(255) NULL DEFAULT NULL,
    `sort`        INT          NULL DEFAULT NULL,
    `image`       VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_user_profile`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_user_profile`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_user_profile`
(
    `id`                       INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`                  INT UNSIGNED NOT NULL,
    `catalog_delivery_type_id` INT UNSIGNED NULL DEFAULT NULL,
    `catalog_payment_type_id`  INT UNSIGNED NULL DEFAULT NULL,
    `title`                    VARCHAR(255) NOT NULL,
    `description`              TEXT         NULL DEFAULT NULL,
    `image`                    VARCHAR(255) NULL DEFAULT NULL,
    `created_at`               INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_user_profile_ax_catalog_delivery_type1_idx` (`catalog_delivery_type_id` ASC),
    INDEX `fk_ax_user_profile_ax_catalog_payment_type1_idx` (`catalog_payment_type_id` ASC),
    INDEX `fk_ax_user_profile_ax_user1_idx` (`user_id` ASC),
    CONSTRAINT `fk_ax_user_profile_ax_catalog_delivery_type1`
        FOREIGN KEY (`catalog_delivery_type_id`)
            REFERENCES `e_com`.`ax_catalog_delivery_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_user_profile_ax_catalog_payment_type1`
        FOREIGN KEY (`catalog_payment_type_id`)
            REFERENCES `e_com`.`ax_catalog_payment_type` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_user_profile_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_address`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_address`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_address`
(
    `id`          INT UNSIGNED      NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255)      NOT NULL,
    `resource_id` INT UNSIGNED      NOT NULL,
    `type`        SMALLINT UNSIGNED NOT NULL,
    `is_delivery` TINYINT UNSIGNED  NULL DEFAULT 0,
    `address`     VARCHAR(1000)     NULL DEFAULT NULL,
    `index`       INT               NULL DEFAULT NULL,
    `country`     VARCHAR(255)      NULL DEFAULT NULL,
    `region`      VARCHAR(255)      NULL DEFAULT NULL,
    `city`        VARCHAR(255)      NULL DEFAULT NULL,
    `street`      VARCHAR(255)      NULL DEFAULT NULL,
    `house`       VARCHAR(255)      NULL DEFAULT NULL,
    `apartment`   VARCHAR(255)      NULL DEFAULT NULL,
    `description` TEXT              NULL DEFAULT NULL,
    `image`       VARCHAR(255)      NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED      NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED      NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED      NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_widgets_property_has_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_widgets_property_has_group`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_widgets_property_has_group`
(
    `widgets_property_id`       INT UNSIGNED NOT NULL,
    `widgets_property_group_id` INT UNSIGNED NOT NULL,
    PRIMARY KEY (`widgets_property_id`, `widgets_property_group_id`),
    INDEX `fk_ax_widgets_property_has_ax_widgets_property_group_ax_wid_idx` (`widgets_property_group_id` ASC),
    INDEX `fk_ax_widgets_property_has_ax_widgets_property_group_ax_wid_idx1` (`widgets_property_id` ASC),
    CONSTRAINT `fk_ax_widgets_property_has_ax_widgets_property_group_ax_widge1`
        FOREIGN KEY (`widgets_property_id`)
            REFERENCES `e_com`.`ax_widgets_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_widgets_property_has_ax_widgets_property_group_ax_widge2`
        FOREIGN KEY (`widgets_property_group_id`)
            REFERENCES `e_com`.`ax_widgets_property_group` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_has_group`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_has_group`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_has_group`
(
    `catalog_property_id`       INT UNSIGNED NOT NULL,
    `catalog_property_group_id` INT UNSIGNED NOT NULL,
    PRIMARY KEY (`catalog_property_id`, `catalog_property_group_id`),
    INDEX `fk_ax_catalog_property_has_ax_catalog_property_group_ax_cat_idx` (`catalog_property_group_id` ASC),
    INDEX `fk_ax_catalog_property_has_ax_catalog_property_group_ax_cat_idx1` (`catalog_property_id` ASC),
    CONSTRAINT `fk_ax_catalog_property_has_ax_catalog_property_group_ax_catal1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `e_com`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_property_has_ax_catalog_property_group_ax_catal2`
        FOREIGN KEY (`catalog_property_group_id`)
            REFERENCES `e_com`.`ax_catalog_property_group` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_has_category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_has_category`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_has_category`
(
    `catalog_category_id` INT UNSIGNED NOT NULL,
    `catalog_property_id` INT UNSIGNED NOT NULL,
    `sort`                INT          NULL DEFAULT 100,
    `created_at`          INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`          INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`          INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`catalog_category_id`, `catalog_property_id`),
    INDEX `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_p_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_c_idx` (`catalog_category_id` ASC),
    CONSTRAINT `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_cat1`
        FOREIGN KEY (`catalog_category_id`)
            REFERENCES `e_com`.`ax_catalog_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_category_has_ax_catalog_property_ax_catalog_pro1`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `e_com`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_favorites`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_favorites`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_favorites`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    `description` TEXT         NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_storage_reserve`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_storage_reserve`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_storage_reserve`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_product_id`       INT UNSIGNED     NOT NULL,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `document`                 VARCHAR(255)     NOT NULL,
    `document_id`              INT UNSIGNED     NOT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `in_reserve`               INT UNSIGNED     NULL DEFAULT 0,
    `expired_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    INDEX `fk_ax_catalog_storage_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_storage_reserve_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    CONSTRAINT `fk_ax_catalog_storage_ax_catalog_product10`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_storage_reserve_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_seo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_seo`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_seo`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    `title`       VARCHAR(255) NULL DEFAULT NULL,
    `description` VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_page_settings`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_page_settings`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_page_settings`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    `script`      LONGTEXT     NULL DEFAULT NULL,
    `css`         LONGTEXT     NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_sale_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_sale_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_sale_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_sale_content_ax_document_sale1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product10`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage10`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_sale_content_ax_document_sale1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_sale` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_write_off`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_write_off`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_write_off`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`  INT UNSIGNED     NOT NULL,
    `document`                 VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `currency_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency100`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place100`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_write_off_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_write_off_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_write_off_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_write_off_content_ax_document_write_off1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product100`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage100`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_write_off_content_ax_document_write_off1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_write_off` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_reservation`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_reservation`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_reservation`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`  INT UNSIGNED     NOT NULL,
    `counterparty_id`          INT UNSIGNED     NOT NULL,
    `document`                 VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `currency_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `expired_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency1000`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place1000`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_reservation_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_reservation_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_reservation_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_reservation_content_ax_document_reservation1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product1000`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage1000`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_reservation_content_ax_document_reservation1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_reservation` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_reservation_cancel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_reservation_cancel`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_reservation_cancel`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`  INT UNSIGNED     NOT NULL,
    `document`                 VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `currency_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency10000`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place10000`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_reservation_cancel_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_reservation_cancel_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_reservation_cancel_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_reservation_cancel_content_ax_document_reser_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product10000`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage10000`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_reservation_cancel_content_ax_document_reserva1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_reservation_cancel` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_refund`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_refund`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_refund`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`  INT UNSIGNED     NOT NULL,
    `counterparty_id`          INT UNSIGNED     NOT NULL,
    `document`                 VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `currency_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_document_reservation_cancel_ax_counterparty1_idx` (`counterparty_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency100000`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place100000`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_reservation_cancel_ax_counterparty10`
        FOREIGN KEY (`counterparty_id`)
            REFERENCES `e_com`.`ax_counterparty` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_refund_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_refund_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_refund_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_refund_content_ax_document_refund1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product100000`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage100000`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_refund_content_ax_document_refund1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_refund` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_transfer`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_transfer`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_transfer`
(
    `id`                              INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id`        INT UNSIGNED     NOT NULL,
    `catalog_storage_place_id_target` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`         INT UNSIGNED     NOT NULL,
    `counterparty_id`                 INT UNSIGNED     NOT NULL,
    `currency_id`                     INT UNSIGNED     NULL DEFAULT NULL,
    `document`                        VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`                     INT UNSIGNED     NULL DEFAULT NULL,
    `status`                          TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`                      INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`                      INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`                      INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_document_reservation_cancel_ax_counterparty1_idx` (`counterparty_id` ASC),
    INDEX `fk_ax_document_transfer_ax_catalog_storage_place1_idx` (`catalog_storage_place_id_target` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency1000000`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place1000000`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_reservation_cancel_ax_counterparty100`
        FOREIGN KEY (`counterparty_id`)
            REFERENCES `e_com`.`ax_counterparty` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_transfer_ax_catalog_storage_place1`
        FOREIGN KEY (`catalog_storage_place_id_target`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_transfer_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_transfer_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_transfer_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_transfer_content_ax_document_transfer1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product1000000`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage1000000`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_transfer_content_ax_document_transfer1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_transfer` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_invoice`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_invoice`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_invoice`
(
    `id`                       INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_storage_place_id` INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`  INT UNSIGNED     NOT NULL,
    `counterparty_id`          INT UNSIGNED     NOT NULL,
    `document`                 VARCHAR(255)     NULL DEFAULT NULL,
    `document_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `currency_id`              INT UNSIGNED     NULL DEFAULT NULL,
    `status`                   TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_document_ax_currency1_idx` (`currency_id` ASC),
    INDEX `fk_ax_catalog_document_ax_catalog_storage_place1_idx` (`catalog_storage_place_id` ASC),
    INDEX `fk_ax_document_reservation_cancel_ax_counterparty1_idx` (`counterparty_id` ASC),
    CONSTRAINT `fk_ax_catalog_document_ax_currency1000001`
        FOREIGN KEY (`currency_id`)
            REFERENCES `e_com`.`ax_currency` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_ax_catalog_storage_place1000001`
        FOREIGN KEY (`catalog_storage_place_id`)
            REFERENCES `e_com`.`ax_catalog_storage_place` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_reservation_cancel_ax_counterparty101`
        FOREIGN KEY (`counterparty_id`)
            REFERENCES `e_com`.`ax_counterparty` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_invoice_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_invoice_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_invoice_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_document_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_invoice_content_ax_document_invoice1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_content_ax_catalog_product1000001`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_document_content_ax_catalog_storage1000001`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_invoice_content_ax_document_invoice1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_invoice` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_order_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_order_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_order_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `document_id`        INT UNSIGNED     NOT NULL,
    `catalog_product_id` INT UNSIGNED     NOT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_order_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_document_order_content_ax_document_order1_idx` (`document_id` ASC),
    INDEX `fk_ax_document_order_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    CONSTRAINT `fk_ax_document_order_content_ax_catalog_product1`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_content_ax_document_order1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_order` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_content_ax_catalog_storage1`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_fin_invoice`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_fin_invoice`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_fin_invoice`
(
    `id`                        INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `uuid`                      VARCHAR(100)     NOT NULL,
    `counterparty_id`           INT UNSIGNED     NOT NULL,
    `fin_transaction_type_id`   INT UNSIGNED     NOT NULL,
    `catalog_payment_status_id` INT UNSIGNED     NULL DEFAULT NULL,
    `payment_order_id`          VARCHAR(100)     NULL DEFAULT NULL,
    `status`                    TINYINT UNSIGNED NULL DEFAULT 0,
    `created_at`                INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`                INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`                INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `uuid_UNIQUE` (`uuid` ASC),
    INDEX `fk_ax_document_order_ax_counterparty1_idx` (`counterparty_id` ASC),
    INDEX `fk_ax_document_order_ax_catalog_payment_status1_idx` (`catalog_payment_status_id` ASC),
    CONSTRAINT `fk_ax_document_order_ax_counterparty10`
        FOREIGN KEY (`counterparty_id`)
            REFERENCES `e_com`.`ax_counterparty` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_ax_catalog_payment_status10`
        FOREIGN KEY (`catalog_payment_status_id`)
            REFERENCES `e_com`.`ax_catalog_payment_status` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_document_fin_invoice_content`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_document_fin_invoice_content`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_document_fin_invoice_content`
(
    `id`                 INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `catalog_product_id` INT UNSIGNED     NULL DEFAULT NULL,
    `catalog_storage_id` INT UNSIGNED     NULL DEFAULT NULL,
    `document_id`        INT UNSIGNED     NULL DEFAULT NULL,
    `price`              DECIMAL UNSIGNED NULL DEFAULT 0.0,
    `quantity`           INT UNSIGNED     NULL DEFAULT 1,
    `description`        VARCHAR(255)     NULL DEFAULT NULL,
    `created_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `updated_at`         INT UNSIGNED     NULL DEFAULT NULL,
    `deleted_at`         INT UNSIGNED     NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_document_order_content_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_document_order_content_ax_catalog_storage1_idx` (`catalog_storage_id` ASC),
    INDEX `fk_ax_document_fin_invoice_content_ax_document_fin_invoice1_idx` (`document_id` ASC),
    CONSTRAINT `fk_ax_document_order_content_ax_catalog_product10`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_order_content_ax_catalog_storage10`
        FOREIGN KEY (`catalog_storage_id`)
            REFERENCES `e_com`.`ax_catalog_storage` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_document_fin_invoice_content_ax_document_fin_invoice1`
        FOREIGN KEY (`document_id`)
            REFERENCES `e_com`.`ax_document_fin_invoice` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_logger`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_logger`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_logger`
(
    `id`           INT UNSIGNED     NOT NULL AUTO_INCREMENT,
    `user_id`      INT UNSIGNED     NULL DEFAULT NULL,
    `ips_id`       INT UNSIGNED     NULL DEFAULT NULL,
    `uuid`         VARCHAR(50)      NOT NULL,
    `channel`      VARCHAR(50)      NOT NULL,
    `level`        VARCHAR(50)      NOT NULL,
    `title`        VARCHAR(500)     NOT NULL,
    `body`         TEXT             NULL DEFAULT NULL,
    `created_at`   DECIMAL UNSIGNED NOT NULL,
    `created_date` VARCHAR(45)      NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_main_errors_ax_user1_idx` (`user_id` ASC),
    INDEX `fk_ax_main_errors_ax_main_ips1_idx` (`ips_id` ASC),
    CONSTRAINT `fk_ax_main_errors_ax_user10`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_main_errors_ax_main_ips10`
        FOREIGN KEY (`ips_id`)
            REFERENCES `e_com`.`ax_main_ips` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_has_product`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_has_product`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_has_product`
(
    `id`                       INT UNSIGNED NOT NULL,
    `catalog_product_id`       INT UNSIGNED NOT NULL,
    `catalog_property_id`      INT UNSIGNED NOT NULL,
    `catalog_property_unit_id` INT UNSIGNED NULL DEFAULT NULL,
    `value_id`                 INT          NOT NULL,
    `value`                    VARCHAR(255) NOT NULL,
    `sort`                     INT          NULL DEFAULT 100,
    `created_at`               INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`               INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`               INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_catalog_product_has_value_int_ax_catalog_product1_idx` (`catalog_product_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_idx` (`catalog_property_id` ASC),
    INDEX `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_idx1` (`catalog_property_unit_id` ASC),
    CONSTRAINT `fk_ax_catalog_product_has_value_int_ax_catalog_product10000`
        FOREIGN KEY (`catalog_product_id`)
            REFERENCES `e_com`.`ax_catalog_product` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_ax_catalog_property10`
        FOREIGN KEY (`catalog_property_id`)
            REFERENCES `e_com`.`ax_catalog_property` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_catalog_product_has_value_decimal_ax_catalog_property_u10`
        FOREIGN KEY (`catalog_property_unit_id`)
            REFERENCES `e_com`.`ax_catalog_property_unit` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_value_decimal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_value_decimal`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_value_decimal`
(
    `id`         INT UNSIGNED   NOT NULL AUTO_INCREMENT,
    `value`      DECIMAL(10, 2) NOT NULL,
    `created_at` INT UNSIGNED   NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED   NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED   NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_value_text`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_value_text`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_value_text`
(
    `id`         INT UNSIGNED NOT NULL,
    `value`      TEXT         NOT NULL,
    `sort`       INT          NULL DEFAULT 100,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_value_int`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_value_int`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_value_int`
(
    `id`         INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `value`      INT          NOT NULL,
    `sort`       INT          NULL DEFAULT 100,
    `created_at` INT UNSIGNED NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_catalog_property_value_varchar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_catalog_property_value_varchar`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_catalog_property_value_varchar`
(
    `id`         INT UNSIGNED  NOT NULL AUTO_INCREMENT,
    `value`      VARCHAR(1000) NOT NULL,
    `sort`       INT           NULL DEFAULT 100,
    `created_at` INT UNSIGNED  NULL DEFAULT NULL,
    `updated_at` INT UNSIGNED  NULL DEFAULT NULL,
    `deleted_at` INT UNSIGNED  NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_telegram_user`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_telegram_user`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_telegram_user`
(
    `id`            INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `user_id`       INT UNSIGNED NULL DEFAULT NULL,
    `first_name`    VARCHAR(500) NULL DEFAULT NULL,
    `last_name`     VARCHAR(500) NULL DEFAULT NULL,
    `username`      VARCHAR(500) NULL DEFAULT NULL,
    `type`          VARCHAR(500) NULL DEFAULT NULL,
    `language_code` VARCHAR(10)  NULL DEFAULT NULL,
    `created_at`    INT UNSIGNED NOT NULL,
    `updated_at`    INT UNSIGNED NOT NULL,
    `deleted_at`    INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_main_errors_ax_user1_idx` (`user_id` ASC),
    CONSTRAINT `fk_ax_main_errors_ax_user100`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_telegram_message`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_telegram_message`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_telegram_message`
(
    `id`                  INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `telegram_user_id`    INT UNSIGNED NOT NULL,
    `telegram_message_id` INT UNSIGNED NULL DEFAULT NULL,
    `message_id`          INT UNSIGNED NOT NULL,
    `update_id`           INT UNSIGNED NULL DEFAULT NULL,
    `text`                TEXT         NULL DEFAULT NULL,
    `search`              TEXT         NULL DEFAULT NULL,
    `date`                INT UNSIGNED NULL DEFAULT NULL,
    `created_at`          INT UNSIGNED NOT NULL,
    `updated_at`          INT UNSIGNED NOT NULL,
    `deleted_at`          INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_telegram_chat_ax_telegram_user1_idx` (`telegram_user_id` ASC),
    INDEX `fk_ax_telegram_message_ax_telegram_message1_idx` (`telegram_message_id` ASC),
    FULLTEXT INDEX `search` (`search`),
    CONSTRAINT `fk_ax_telegram_chat_ax_telegram_user1`
        FOREIGN KEY (`telegram_user_id`)
            REFERENCES `e_com`.`ax_telegram_user` (`id`)
            ON DELETE NO ACTION
            ON UPDATE NO ACTION,
    CONSTRAINT `fk_ax_telegram_message_ax_telegram_message1`
        FOREIGN KEY (`telegram_message_id`)
            REFERENCES `e_com`.`ax_telegram_message` (`id`)
            ON DELETE NO ACTION
            ON UPDATE NO ACTION
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_frm_category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_frm_category`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_frm_category`
(
    `id`                  INT UNSIGNED      NOT NULL AUTO_INCREMENT,
    `user_id`             INT UNSIGNED      NOT NULL,
    `category_id`         INT UNSIGNED      NULL     DEFAULT NULL,
    `status`              TINYINT UNSIGNED  NULL     DEFAULT 0,
    `level`               SMALLINT UNSIGNED NOT NULL DEFAULT 1,
    `path`                VARCHAR(500)      NULL     DEFAULT NULL,
    `title`               VARCHAR(255)      NOT NULL,
    `title_short`         VARCHAR(155)      NULL     DEFAULT NULL,
    `preview_description` TEXT              NULL     DEFAULT NULL,
    `description`         TEXT              NULL     DEFAULT NULL,
    `search`              TEXT              NULL     DEFAULT NULL,
    `date_pub`            INT               NULL     DEFAULT 0,
    `date_end`            INT               NULL     DEFAULT 0,
    `control_date_pub`    TINYINT           NULL     DEFAULT 0,
    `control_date_end`    TINYINT           NULL     DEFAULT 0,
    `sort`                INT               NULL     DEFAULT 0,
    `created_at`          INT UNSIGNED      NULL     DEFAULT NULL,
    `updated_at`          INT UNSIGNED      NULL     DEFAULT NULL,
    `deleted_at`          INT UNSIGNED      NULL     DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_post_comments_ax_post_comments1_idx` (`category_id` ASC),
    INDEX `path` (`path` ASC),
    INDEX `fk_ax_frm_category_ax_user1_idx` (`user_id` ASC),
    FULLTEXT INDEX `search` (`search`),
    CONSTRAINT `fk_ax_post_comments_ax_post_comments10`
        FOREIGN KEY (`category_id`)
            REFERENCES `e_com`.`ax_frm_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_frm_category_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_frm_message`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_frm_message`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_frm_message`
(
    `id`                  INT UNSIGNED         NOT NULL AUTO_INCREMENT,
    `user_id`             INT UNSIGNED         NOT NULL,
    `category_id`         INT UNSIGNED         NOT NULL,
    `message_id`          INT UNSIGNED         NULL     DEFAULT NULL,
    `status`              TINYINT UNSIGNED     NULL     DEFAULT 0,
    `is_viewed`           TINYINT              NULL     DEFAULT 0,
    `level`               SMALLINT UNSIGNED    NOT NULL DEFAULT 1,
    `path`                VARCHAR(500)         NOT NULL,
    `title`               VARCHAR(255)         NULL     DEFAULT NULL,
    `title_short`         VARCHAR(155)         NULL     DEFAULT NULL,
    `preview_description` TEXT                 NULL     DEFAULT NULL,
    `description`         TEXT                 NULL     DEFAULT NULL,
    `search`              TEXT                 NULL     DEFAULT NULL,
    `date_pub`            INT                  NULL     DEFAULT 0,
    `date_end`            INT                  NULL     DEFAULT 0,
    `control_date_pub`    TINYINT              NULL     DEFAULT 0,
    `control_date_end`    TINYINT              NULL     DEFAULT 0,
    `hits`                INT UNSIGNED         NULL     DEFAULT 0,
    `sort`                INT                  NULL     DEFAULT 0,
    `stars`               FLOAT(1, 1) UNSIGNED NULL     DEFAULT '0.0',
    `created_at`          INT UNSIGNED         NULL     DEFAULT NULL,
    `updated_at`          INT UNSIGNED         NULL     DEFAULT NULL,
    `deleted_at`          INT UNSIGNED         NULL     DEFAULT NULL,
    PRIMARY KEY (`id`, `user_id`, `category_id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `fk_ax_frm_message_ax_frm_message1_idx` (`message_id` ASC),
    INDEX `fk_ax_frm_message_ax_frm_category1_idx` (`category_id` ASC),
    INDEX `path` (`path` ASC),
    INDEX `fk_ax_frm_message_ax_user1_idx` (`user_id` ASC),
    FULLTEXT INDEX `search` (`search`),
    CONSTRAINT `fk_ax_post_comments_ax_post_comments100`
        FOREIGN KEY (`message_id`)
            REFERENCES `e_com`.`ax_frm_message` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_frm_message_ax_frm_category1`
        FOREIGN KEY (`category_id`)
            REFERENCES `e_com`.`ax_frm_category` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE,
    CONSTRAINT `fk_ax_frm_message_ax_user1`
        FOREIGN KEY (`user_id`)
            REFERENCES `e_com`.`ax_user` (`id`)
            ON DELETE CASCADE
            ON UPDATE CASCADE
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_url`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_url`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_url`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    `alias`       VARCHAR(255) NOT NULL,
    `url`         VARCHAR(255) NOT NULL,
    `url_old`     VARCHAR(255) NULL DEFAULT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    UNIQUE INDEX `alias_UNIQUE` (`alias` ASC),
    UNIQUE INDEX `url_UNIQUE` (`url` ASC),
    INDEX `url_old` (`url_old` ASC)
)
    ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `e_com`.`ax_main_search`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `e_com`.`ax_main_search`;

CREATE TABLE IF NOT EXISTS `e_com`.`ax_main_search`
(
    `id`          INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `resource`    VARCHAR(255) NOT NULL,
    `resource_id` INT UNSIGNED NOT NULL,
    `search`      TEXT         NOT NULL,
    `created_at`  INT UNSIGNED NULL DEFAULT NULL,
    `updated_at`  INT UNSIGNED NULL DEFAULT NULL,
    `deleted_at`  INT UNSIGNED NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `id_UNIQUE` (`id` ASC),
    INDEX `resource` (`resource` ASC),
    INDEX `resource_id` (`resource_id` ASC),
    FULLTEXT INDEX `search` (`search`)
)
    ENGINE = InnoDB;


SET SQL_MODE = @OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS = @OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `e_com`.`ax_user`
-- -----------------------------------------------------
START TRANSACTION;
USE `e_com`;
INSERT INTO `e_com`.`ax_user` (`id`, `first_name`, `last_name`, `patronymic`, `phone`, `email`, `is_email`, `is_phone`,
                               `status`, `avatar`, `password_hash`, `remember_token`, `auth_key`,
                               `password_reset_token`, `created_at`, `updated_at`, `deleted_at`)
VALUES (6, 'Aleksei', 'Alekseev', NULL, '79621829550', 'axlle@mail.ru', NULL, NULL, 10, NULL,
        '$2y$13$DMqEjJJL9gjftb80gCt5n.fOTyoTfAEv/HsQPh2IEQa42bfNsfF5S', 'kyyBBbb80b3ZflMDdsynKC0B4s',
        'kyyBBbb80b3ZflMDdsynKC0B4s', 'kyyBBbb80b3ZflMDdsynKC0B4s', UNIX_TIMESTAMP(), UNIX_TIMESTAMP(), NULL);

COMMIT;

